(window.webpackJsonp=window.webpackJsonp||[]).push([[181],{508:function(s,a,t){"use strict";t.r(a);var e=t(17),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"bash-shell-特殊参数变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bash-shell-特殊参数变量"}},[s._v("#")]),s._v(" bash shell 特殊参数变量")]),s._v(" "),a("p",[s._v("bash shell中有些特殊变量，它们会记录命令行参数。")]),s._v(" "),a("h2",{attrs:{id:"获取传入命令参数的个数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取传入命令参数的个数"}},[s._v("#")]),s._v(" 获取传入命令参数的个数")]),s._v(" "),a("p",[s._v("特殊变量"),a("code",[s._v("$#")]),s._v("含有脚本运行时携带的命令行参数的个数。可以在脚本中任何地方使用这个特殊"),a("br"),s._v("\n变量，就跟普通变量一样。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"args number: '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v('"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./arg.sh 1 2 3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# args number: 3")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./arg.sh 1 2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# args number: 2")]),s._v("\n")])])]),a("p",[s._v("有了这个获取总参数个数的命令参数后，就可以对命令行参数个数进行校验了。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# !/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ne")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" Usage: test9.sh a b\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("total")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" The "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum")]),s._v(" is "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$total")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./arg.sh 1 2 3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Usage: test9.sh a b")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./arg.sh 1 2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The sum is 3")]),s._v("\n")])])]),a("p",[s._v("借助"),a("code",[s._v("$#")]),s._v("参数获取命令行最后一个参数，因为在"),a("code",[s._v("{}")]),s._v("中不能使用"),a("code",[s._v("$")]),s._v("需要使用"),a("code",[s._v("!")]),s._v("号来替换。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Last Number is: '),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("}")]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Last Number is: 3")]),s._v("\n")])])]),a("h2",{attrs:{id:"抓取所有的数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#抓取所有的数据"}},[s._v("#")]),s._v(" 抓取所有的数据")]),s._v(" "),a("p",[a("code",[s._v("$*")]),s._v(" 和 "),a("code",[s._v("$@")]),s._v(" 变量可以用来访问所有的命令行参数。这两个变量都能够在单个变量中存储所有的命"),a("br"),s._v("\n令行参数。")]),s._v(" "),a("p",[a("code",[s._v("$*")]),s._v("变量会将命令行上提供的所有参数当作一个单词保存。这个单词包含了命令行中出现的每"),a("br"),s._v("\n一个参数值。基本上 "),a("code",[s._v("$*")]),s._v(" 变量会将这些参数视为一个整体，而不是多个个体。")]),s._v(" "),a("p",[a("code",[s._v("$@")]),s._v(" 变量会将命令行上提供的所有参数当作同一字符串中的多个独立的单词。这样就能够遍历所有的参数值，得到每个参数。这通常通过 "),a("code",[s._v("for")]),s._v(" 命令完成。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# !/bin/bash")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Using the \\'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$*")]),s._v(" method: "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$*")]),s._v('"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Using the \\'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v(" method: "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Using the $* method: 1 2 3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Using the $@ method: 1 2 3")]),s._v("\n")])])]),a("p",[s._v("从表面上看，两个变量产生的是同样的输出，都显示出了所有命令行参数。通过"),a("code",[s._v("for")]),s._v("命令就可以看出二者的差异了。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("param")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$*")]),s._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$*")]),s._v(" Parameter #"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$param")]),s._v('"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("param")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v(" Parameter #"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(" = "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$param")]),s._v('"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(" + "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# $* Parameter #1 = 1 2 3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# $@ Parameter #1 = 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# $@ Parameter #2 = 2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# $@ Parameter #3 = 3")]),s._v("\n\n")])])]),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-8685746128991385","data-ad-slot":"2974191661"}})],1)}),[],!1,null,null,null);a.default=n.exports}}]);