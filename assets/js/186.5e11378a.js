(window.webpackJsonp=window.webpackJsonp||[]).push([[186],{503:function(s,a,t){"use strict";t.r(a);var e=t(17),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"shell中的环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell中的环境变量"}},[s._v("#")]),s._v(" shell中的环境变量")]),s._v(" "),a("p",[s._v("环境变量中存储有关shell会话和工作环境的信息，允许用户在内存中存储数据，以便程序"),a("br"),s._v("\n或shell中运行的脚本能够轻松访问到它们。")]),s._v(" "),a("h2",{attrs:{id:"全局变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局变量"}},[s._v("#")]),s._v(" 全局变量")]),s._v(" "),a("p",[s._v("全局环境变量对于shell会话和所有生成的子shell都是可见的。")]),s._v(" "),a("p",[s._v("Linux系统在启用bash会话时就设置了一些全局环境变量。")]),s._v(" "),a("p",[s._v("系统环境变量基本上都是使用全大写字母，以区别于普通用户的环境变量。")]),s._v(" "),a("p",[s._v("要查看全局变量，可以使用 "),a("code",[s._v("env")]),s._v(" 或 "),a("code",[s._v("printenv")]),s._v(" 命令。")]),s._v(" "),a("p",[s._v("查看某个环境变量的值，")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("\n")])])]),a("p",[s._v("或者：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("printenv")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("HOME")]),s._v("\n")])])]),a("h2",{attrs:{id:"局部环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#局部环境变量"}},[s._v("#")]),s._v(" 局部环境变量")]),s._v(" "),a("p",[s._v("局部环境变量，只能在定义它们的进程中可见。")]),s._v(" "),a("p",[s._v("Linux系统并没有一个只显示局部环境"),a("br"),s._v("\n变量的命令。")]),s._v(" "),a("p",[a("code",[s._v("set")]),s._v("命令会显示为某个特定进程设置的所有环境变量，包括局部变量、全局变量"),a("br"),s._v("\n以及用户定义变量。")]),s._v(" "),a("h2",{attrs:{id:"创建环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建环境变量"}},[s._v("#")]),s._v(" 创建环境变量")]),s._v(" "),a("p",[s._v("创建局部环境变量：")]),s._v(" "),a("div",{staticClass:"language-sn extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('my_variable="I am Global now"\n')])])]),a("p",[s._v("使用"),a("code",[s._v("export")]),s._v("命令可以将其变成全局变量：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("my_variable")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$my_variable")]),s._v("\n")])])]),a("h2",{attrs:{id:"删除环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除环境变量"}},[s._v("#")]),s._v(" 删除环境变量")]),s._v(" "),a("p",[s._v("使用"),a("code",[s._v("unset")]),s._v("命令：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("unset")]),s._v(" my_variable\n")])])]),a("h2",{attrs:{id:"path环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#path环境变量"}},[s._v("#")]),s._v(" PATH环境变量")]),s._v(" "),a("p",[s._v("在shell命令行界面中输入一个外部命令时，shell必须搜索系统来找到对应"),a("br"),s._v("\n的程序。")]),s._v(" "),a("p",[s._v("PATH 环境变量定义了用于进行命令和程序查找的目录。")]),s._v(" "),a("p",[s._v("应用程序放置可执行文件的目录常常不在 PATH 环境变量所包含的目录中。解决的"),a("br"),s._v("\n办法是保证 PATH 环境变量包含了所有存放应用程序的目录。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),s._v(":/xxx/sw/gcc/bin\n")])])]),a("p",[s._v("为了让环境变量的作用持久化，需要了解在bash在启动时会检查的启动文件或环境文件。")]),s._v(" "),a("p",[s._v("启动bash shell有3种方式:")]),s._v(" "),a("ul",[a("li",[s._v("登录时作为默认登录shell")]),s._v(" "),a("li",[s._v("作为非登录shell的交互式shell")]),s._v(" "),a("li",[s._v("作为运行脚本的非交互shell")])]),s._v(" "),a("p",[s._v("登录shell会从5个不同的启动文件里读取命令：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("/etc/profile")]),s._v("文件是系统上默认的"),a("code",[s._v("bash shell")]),s._v("的主启动文件,系统上的每个用户登录时都会执行这个启动文件。")]),s._v(" "),a("li",[a("code",[s._v("$HOME/.bash_profile")])]),s._v(" "),a("li",[a("code",[s._v("$HOME/.bashrc")])]),s._v(" "),a("li",[a("code",[s._v("$HOME/.bash_login")])]),s._v(" "),a("li",[a("code",[s._v("$HOME/.profile")])])]),s._v(" "),a("p",[s._v("变量设置放在"),a("code",[s._v("/etc/profile")]),s._v("文件中，可不是什么好主意。如果升级了所用的发行版，这个文件也会跟着更新，那所有定制过的变量设置就都没有了。")]),s._v(" "),a("p",[s._v("最好是在"),a("code",[s._v("/etc/profile.d")]),s._v("目录中创建一个以"),a("code",[s._v(".sh")]),s._v("结尾的文件。")]),s._v(" "),a("p",[s._v("使用数组管理环境变量：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("myarray")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("one two three"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 首元素")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$myarray")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印第三个元素")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${myarray"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示整个数组变量")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${myarray"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# unset 命令后跟上数组可删除数组某个值")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("unset")]),s._v(" myarray"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# unset 命令后跟上数组名可删除整个数组")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("unset")]),s._v(" myarray\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);