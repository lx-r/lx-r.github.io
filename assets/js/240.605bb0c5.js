(window.webpackJsonp=window.webpackJsonp||[]).push([[240],{604:function(e,a,t){"use strict";t.r(a);var s=t(17),v=Object(s.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-8685746128991385","data-ad-slot":"2974191661"}}),e._v(" "),a("h2",{attrs:{id:"_1-systemd-udevd-service启动失败"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-systemd-udevd-service启动失败"}},[e._v("#")]),e._v(" 1.systemd-udevd.service启动失败")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("问题")])]),e._v(" "),a("li")]),e._v(" "),a("p",[e._v("Ubuntu下执行"),a("code",[e._v("sudo apt-get upgrade")]),e._v("时包报错，")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("systemd-udevd.service - idev Kernel Device Mangaer\n    Loaded: error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("Reason: Exec "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("format")]),e._v(" error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n    Active: inactivate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("dead"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n    Docs: man:systemd-udevd.service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n          man:udev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n/lib/systemd/system/systemd-udevd.service:26: Executable path is not absolute: udevadm control "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--rel")]),e._v("\n")])])]),a("p",[a("strong",[e._v("解决")])]),e._v(" "),a("p",[e._v("从报错信息来看，"),a("code",[e._v("udevadm")]),e._v("的可执行文件应该使用绝对路径，打开"),a("code",[e._v("/lib/systemd/system/systemd-udevd.service")]),e._v("文件，可以看到"),a("code",[e._v("udevadm")]),e._v("可执行文件确实使用的是相对路径，使用"),a("code",[e._v("which udevadm")]),e._v("查找"),a("code",[e._v("udevadm")]),e._v("的绝对路径，修改"),a("code",[e._v("/lib/systemd/system/systemd-udevd.service")]),e._v("文件的第"),a("code",[e._v("26")]),e._v("行")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 可以看到第26行执行了可执行文件udevadm")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("vi")]),e._v(" /lib/systemd/system/systemd-udevd.service\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 查找udevadm的绝对路径，/bin/udevadm")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("which")]),e._v(" udevadm \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 改为`/bin/udevadm`")]),e._v("\n/bin/udevadm\n")])])]),a("p",[e._v("重新启动"),a("code",[e._v("udevadm")]),e._v("服务即可，"),a("strong",[e._v("同样其他的"),a("code",[e._v("Executable path is not absolute")]),e._v("报错也可通过这种方式解决")])]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("补充")])])]),e._v(" "),a("p",[a("code",[e._v("udev")]),e._v("为当前 Linux 默认的设备管理工具。udev 以守护进程的形式运行，通过侦听内核发出来的 uevent 来管理 /dev目录下的设备文件。不像之前的设备管理工具，udev 在用户空间 (user space) 运行，而不在内核空间 (kernel space) 运行。")]),e._v(" "),a("h2",{attrs:{id:"_2-linuxapt-get-upgrade时提示有n个软件未被升级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-linuxapt-get-upgrade时提示有n个软件未被升级"}},[e._v("#")]),e._v(" 2.Linux"),a("code",[e._v("apt-get upgrade")]),e._v("时提示"),a("code",[e._v("有n个软件未被升级")])]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("问题：")])])]),e._v(" "),a("p",[a("code",[e._v("apt-get upgrade")]),e._v("没有解决软件包之间的依赖问题")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("解决：")])])]),e._v(" "),a("p",[e._v("使用"),a("code",[e._v("apt-get dist-upgrade")])]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("补充")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("apt-get update")]),e._v("是下载源里面的metadata的. 包括这个源有什么包, 每个包什么版本之类的")]),e._v(" "),a("li",[a("code",[e._v("upgrade")]),e._v("是根据"),a("code",[e._v("update")]),e._v("命令下载的"),a("code",[e._v("metadata")]),e._v("决定要更新什么包(同时获取每个包的位置),系统将现有的Package升级,如果有相依性的问题,而此相依性需要安装其它新的Package或影响到其它Package的相依性时,此Package就不会被升级,会保留下来.")]),e._v(" "),a("li",[a("code",[e._v("dist-upgrade")]),e._v(":可以聪明的解决相依性的问题,如果有相依性问题,需要安装/移除新的Package,就会试着去安装/移除它. (所以通常这个会被认为是有点风险的升级)")])])])]),e._v(" "),a("h2",{attrs:{id:"_3-linux安装新内核"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-linux安装新内核"}},[e._v("#")]),e._v(" 3."),a("code",[e._v("Linux")]),e._v("安装新内核")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("背景")])])]),e._v(" "),a("p",[e._v("安装指定版本的内核")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("方法")]),a("br"),e._v("\n在"),a("a",{attrs:{href:"https://kernel.ubuntu.com/~kernel-ppa/mainline/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://kernel.ubuntu.com/~kernel-ppa/mainline/"),a("OutboundLink")],1),e._v("网站找到对应的内核版本，选择自己"),a("code",[e._v("CPU")]),e._v("架构对应的安装包,选择如下四个文件下载"),a("br"),e._v("\n：")])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/ker1kernel.jpg",alt:""}})]),e._v(" "),a("p",[e._v("下载完成后执行：")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" dpkg "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-i")]),e._v(" *.deb\n")])])]),a("ul",[a("li",[a("strong",[e._v("补充")])])]),e._v(" "),a("p",[e._v("常见的"),a("code",[e._v("x86_64")]),e._v(","),a("code",[e._v("amd64")]),e._v(","),a("code",[e._v("i386")]),e._v(","),a("code",[e._v("i686")]),e._v(","),a("code",[e._v("i686")]),e._v(","),a("code",[e._v("x86")]),e._v(","),a("code",[e._v("armv7")]),e._v(","),a("code",[e._v("aarch64")]),e._v(","),a("code",[e._v("ppc64le")]),e._v("分别表示："),a("br"),e._v(" "),a("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/ker1arch.jpg",alt:""}})]),e._v(" "),a("h2",{attrs:{id:"_4-linux的upgrade和update的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-linux的upgrade和update的区别"}},[e._v("#")]),e._v(" 4."),a("code",[e._v("Linux")]),e._v("的"),a("code",[e._v("upgrade")]),e._v("和"),a("code",[e._v("update")]),e._v("的区别")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("sudo apt-get update")]),e._v(": 命令的作用是同步您的本地计算机与软件源服务器上最新的软件包列表和版本信息，它不会下载或安装任何实际的软件包、程序或更新。它只是更新您本地“有哪些新东西可用”的目录或清单。")]),e._v(" "),a("li",[a("code",[e._v("sudo apt-get upgrade")]),e._v(": 安装新的软件包版本,"),a("code",[e._v("upgrade")]),e._v(" 命令的作用是安装自上次更新以来所有已安装软件包的新版本。它比较您本地已安装的软件包版本与刚刚通过 "),a("code",[e._v("update")]),e._v(" 命令获取的最新列表。它会识别所有可以更新的软件包，然后下载并安装它们，从而用新版本替换旧版本。")])])],1)}),[],!1,null,null,null);a.default=v.exports}}]);