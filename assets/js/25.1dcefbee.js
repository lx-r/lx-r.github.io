(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{346:function(t,a,e){"use strict";e.r(a);var n=e(17),r=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"ubuntu下配置tensorrt环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu下配置tensorrt环境"}},[t._v("#")]),t._v(" Ubuntu下配置TensorRT环境")]),t._v(" "),a("h2",{attrs:{id:"先确保安装正确版本的显卡驱动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#先确保安装正确版本的显卡驱动"}},[t._v("#")]),t._v(" 先确保安装正确版本的显卡驱动")]),t._v(" "),a("p",[t._v("如果是已经安装的显卡驱动有问题需要卸载可以使用如下方式，")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" purge nvidia-*\n")])])]),a("p",[t._v("推荐的"),a("code",[t._v("Linux")]),t._v("下安装显卡驱动的方法，")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" add-apt-repository ppa:graphics-drivers/ppa ubuntu-drivers devices\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" ubuntu-drivers devices\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 选择正确版本的驱动进行安装")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nvidia-driver-*\n")])])]),a("p",[t._v("安装显卡驱动要和系统的内核版本对应好，内核版本和驱动版本不兼容的化会很麻烦。")]),t._v(" "),a("p",[t._v("在"),a("a",{attrs:{href:"https://www.nvidia.com/en-us/drivers/unix/",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),a("OutboundLink")],1),t._v("可以查寻内核和显卡驱动的兼容关系。")]),t._v(" "),a("h2",{attrs:{id:"安装cudatoolkit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装cudatoolkit"}},[t._v("#")]),t._v(" 安装"),a("code",[t._v("CUDAToolkit")])]),t._v(" "),a("p",[t._v("安装好显卡驱动后，安装"),a("code",[t._v("CUDAToolKit")]),t._v("。")]),t._v(" "),a("p",[t._v("需先查看显卡驱动和"),a("code",[t._v("CUDAToolkit")]),t._v("中的兼容关系。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.nvidia.com/deploy/cuda-compatibility/#default-to-minor-version",target:"_blank",rel:"noopener noreferrer"}},[t._v("cudatoolkit and nvidia-driver compatibility"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://developer.nvidia.com/cuda-toolkit-archive",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方的安装指引在这里"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/cudatoolkit1.png",alt:""}})]),t._v(" "),a("p",[t._v("选择好对应的平台和系统后，会给出安装脚本，直接复制粘贴到终端执行就可以。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/cudatoolkit2.png",alt:""}})]),t._v(" "),a("p",[t._v("安装完成后，在"),a("code",[t._v("/usr/local")]),t._v("文件夹下会找到"),a("code",[t._v("cuda")]),t._v("文件夹，里面放有"),a("code",[t._v("cuda")]),t._v("对应的头文件，库文件和可执行文件。")]),t._v(" "),a("h2",{attrs:{id:"安装cudnn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装cudnn"}},[t._v("#")]),t._v(" 安装"),a("code",[t._v("cuDNN")])]),t._v(" "),a("p",[t._v("神经网络中的某些层需要"),a("code",[t._v("cuDNN")]),t._v("的支持。")]),t._v(" "),a("p",[a("code",[t._v("cuDNN")]),t._v("的官方安装指引可以参考"),a("a",{attrs:{href:"https://docs.nvidia.com/deeplearning/cudnn/install-guide/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Install Instruction"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("这里介绍的"),a("code",[t._v("cuDNN")]),t._v("有多种安装方式，这里选择"),a("code",[t._v("tar")]),t._v("包来安装，直接解压后按官方指引复制到"),a("code",[t._v("cuda")]),t._v("安装目录下即可。")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" cudnn-*-archive/include/cudnn*.h /usr/local/cuda/include \n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-P")]),t._v(" cudnn-*-archive/lib/libcudnn* /usr/local/cuda/lib64 \n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" a+r /usr/local/cuda/include/cudnn*.h /usr/local/cuda/lib64/libcudnn*\n")])])]),a("h2",{attrs:{id:"安装tensorrt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装tensorrt"}},[t._v("#")]),t._v(" 安装"),a("code",[t._v("TensorRT")])]),t._v(" "),a("p",[a("code",[t._v("TensorRT")]),t._v("应该是目前在"),a("code",[t._v("Nvidia")]),t._v("显卡上运算速度最快的推理引擎。")]),t._v(" "),a("p",[t._v("其官方安装指引"),a("a",{attrs:{href:"https://docs.nvidia.com/deeplearning/tensorrt/install-guide/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Install TensorRT Doc"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[t._v("其也有多种安装方式，如"),a("code",[t._v("deb/zip/tar")]),t._v("等。")]),t._v(" "),a("p",[t._v("在"),a("code",[t._v("Ubuntu")]),t._v("下，为了便于升级，和管理多个版本的"),a("code",[t._v("TensorRT")]),t._v(",推荐直接下载"),a("code",[t._v("tar")]),t._v("包解压后放入指定位置，通过设置"),a("code",[t._v("LD_LIBRARY_PATH")]),t._v("来使用。")]),t._v(" "),a("p",[t._v("在这里选择"),a("a",{attrs:{href:"https://developer.nvidia.com/tensorrt-download",target:"_blank",rel:"noopener noreferrer"}},[t._v("TensorRT"),a("OutboundLink")],1),t._v("下载。")]),t._v(" "),a("p",[t._v("选择"),a("code",[t._v("GA")]),t._v("版本的安装，这里还说明了该版本的"),a("code",[t._v("TensorRT")]),t._v("需要哪个版本的"),a("code",[t._v("cuDNN")]),t._v("和"),a("code",[t._v("CUDAToolkit")]),t._v("。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/cudatoolkit3.png",alt:""}})]),t._v(" "),a("p",[t._v("通过"),a("code",[t._v("tar")]),t._v("包的安装方式指引官方文档可参考这部分"),a("a",{attrs:{href:"https://docs.nvidia.com/deeplearning/tensorrt/install-guide/index.html#installing-tar",target:"_blank",rel:"noopener noreferrer"}},[t._v("tar install"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("tar")]),t._v("包中有"),a("code",[t._v("Python")]),t._v("下的安装包，按上面的指引安装即可。")]),t._v(" "),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-8685746128991385","data-ad-slot":"2974191661"}})],1)}),[],!1,null,null,null);a.default=r.exports}}]);