(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{347:function(a,t,s){"use strict";s.r(t);var e=s(17),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"opencv-contrib编译报glob错误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#opencv-contrib编译报glob错误"}},[a._v("#")]),a._v(" "),t("code",[a._v("OpenCV Contrib")]),a._v("编译报"),t("code",[a._v("glob")]),a._v("错误")]),a._v(" "),t("h2",{attrs:{id:"报错"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#报错"}},[a._v("#")]),a._v(" 报错")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("/usr/bin/ld: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/lib/libopencv_sfm.so.4.2.0: undefined reference to `google::InitVLOG3__"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("google::SiteFlag*, int*, char const*, int"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("'\ncollect2: error: ld returned "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exit")]),a._v(" status\nmake"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(": *** "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("modules/sfm/CMakeFiles/opencv_test_sfm.dir/build.make:249: bin/opencv_test_sfm"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" Error "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\nmake"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(": *** "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("CMakeFiles/Makefile2:7455: modules/sfm/CMakeFiles/opencv_test_sfm.dir/all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" Error "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\nmake: *** "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Makefile:163: all"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" Error "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\n")])])]),t("h2",{attrs:{id:"原因"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原因"}},[a._v("#")]),a._v(" 原因")]),a._v(" "),t("p",[a._v("本机默认安装的"),t("code",[a._v("GLOG")]),a._v("版本还"),t("code",[a._v("OpenCV_Contrib")]),a._v("中使用的版本对不上。")]),a._v(" "),t("h2",{attrs:{id:"解决办法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解决办法"}},[a._v("#")]),a._v(" 解决办法")]),a._v(" "),t("h3",{attrs:{id:"方法1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方法1"}},[a._v("#")]),a._v(" 方法1")]),a._v(" "),t("p",[a._v("卸载掉本机默认安装的"),t("code",[a._v("glob")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" remove glob\n")])])]),t("p",[a._v("重新安装"),t("code",[a._v("glog")])]),a._v(" "),t("ul",[t("li",[a._v("先从"),t("code",[a._v("github")]),a._v("上拉"),t("code",[a._v("glob")]),a._v("源代码")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/google/glog.git\n")])])]),t("ul",[t("li",[a._v("切换到旧版本分支")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" checkout v0.5.0-rc2\n")])])]),t("ul",[t("li",[a._v("参考"),t("code",[a._v("glog")]),a._v("安装说明，使用"),t("code",[a._v("cmake")]),a._v("编译")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("cmake "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-S")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-B")]),a._v(" build "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-G")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Unix Makefiles"')]),a._v("\ncmake "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--build")]),a._v(" build "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--target")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])])]),t("p",[a._v("安装完成后，重新编译"),t("code",[a._v("OpenCV Contrib")]),a._v("模块即可。")]),a._v(" "),t("p",[a._v("注意,编译"),t("code",[a._v("glob")]),a._v("需要的最小版本"),t("code",[a._v("cmake")]),a._v("是"),t("code",[a._v("3.21.0")]),a._v("，如果版本过低的话可以从这里下载安装"),t("code",[a._v("cmake")]),a._v("。")]),a._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://cmake.org/download/",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://cmake.org/download/"),t("OutboundLink")],1)])]),a._v(" "),t("p",[a._v("压缩包解压后，在"),t("code",[a._v("/usr/bin")]),a._v("下新建一个链接即可开始使用"),t("code",[a._v("cmake")]),a._v("了。")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ln")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" cmake-3.28.0-rc5-linux-x86_64/bin/cmake cmake\n")])])]),t("h3",{attrs:{id:"方法2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方法2"}},[a._v("#")]),a._v(" 方法2")]),a._v(" "),t("p",[a._v("使用"),t("code",[a._v("apt")]),a._v("安装"),t("code",[a._v("glog")])]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" libgoogle-glog-dev\n")])])]),t("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-8685746128991385","data-ad-slot":"2974191661"}}),a._v(" "),t("h3",{attrs:{id:"reference"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[a._v("#")]),a._v(" Reference")]),a._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://github.com/opencv/opencv_contrib/issues/2211",target:"_blank",rel:"noopener noreferrer"}},[a._v("1.https://github.com/opencv/opencv_contrib/issues/2211"),t("OutboundLink")],1)])])],1)}),[],!1,null,null,null);t.default=n.exports}}]);