(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{349:function(t,s,a){"use strict";a.r(s);var n=a(17),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"opencv报错overload-resolution-failed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#opencv报错overload-resolution-failed"}},[t._v("#")]),t._v(" OpenCV报错"),s("code",[t._v("Overload resolution failed")])]),t._v(" "),s("h2",{attrs:{id:"报错描述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#报错描述"}},[t._v("#")]),t._v(" 报错描述")]),t._v(" "),s("p",[t._v("在使用"),s("code",[t._v("cv2.rectangle/cv2.circle/cv2.line/cv2.drawContours")]),t._v("时有时候会遇到报错如下：")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("---------------------------------------------------------------------------\nerror                                     Traceback "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("most recent call last"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nInput In "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cell line: "),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("3")]),t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" mask "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np.zeros"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("dtype")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("np.uint"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" ct "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np.array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10,10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20,10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20,20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(","),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10,20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("dtype")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("np.int32"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n----"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" cv2.drawContours"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mask, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ct"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(", -1, "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nerror: OpenCV"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.8")]),t._v(".1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" :-1: error: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("-5:Bad argument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'drawContours'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Overload resolution failed:\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("  - Layout of the output array image is incompatible with cv::Mat\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("  - Expected Ptr"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("cv::UMat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" argument "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'image'")]),t._v("\n")])])]),s("p",[t._v("这个问题根据提示是"),s("code",[t._v("output")]),t._v("有问题，这就很奇怪，这个函数并没有返回"),s("code",[t._v("image")]),t._v("，图形是直接画在输入上的，因此可以看看输入有没有问题。")]),t._v(" "),s("h2",{attrs:{id:"原因及解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原因及解决方案"}},[t._v("#")]),t._v(" 原因及解决方案")]),t._v(" "),s("p",[s("code",[t._v("OpenCV")]),t._v("处理的图像数据类型，需要是"),s("code",[t._v("uint8")]),t._v(",根据上面报错提示的信息可以看到，")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("mask "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zeros"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uint"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("code",[t._v("mask")]),t._v("的数据类型是"),s("code",[t._v("uint")]),t._v("型，"),s("code",[t._v("np.uint")]),t._v("等价于"),s("code",[t._v("numpy.uint64")]),t._v(",因此这里数据类型有误导致的，改成")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("mask "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zeros"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uint8"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("即可在其中画图形。")])])}),[],!1,null,null,null);s.default=e.exports}}]);