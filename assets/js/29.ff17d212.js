(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{348:function(a,e,t){"use strict";t.r(e);var s=t(17),r=Object(s.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"编译opencv-contrib-sfm模块时报错"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编译opencv-contrib-sfm模块时报错"}},[a._v("#")]),a._v(" 编译"),e("code",[a._v("OpenCV Contrib SFM")]),a._v("模块时报错")]),a._v(" "),e("h2",{attrs:{id:"报错"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#报错"}},[a._v("#")]),a._v(" 报错")]),a._v(" "),e("p",[a._v("使用命令：")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("cmake "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DOPENCV_EXTRA_MODULES_PATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("opencv_contrib/modules "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DOPENCV_GENERATE_PKGCONFIG_INFO")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("YES "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DCMAKE_INSTALL_PREFIX")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("XXX "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DCMAKE_BUILD_TYPE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("RELEASE "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-DOPENCV_ENABLE_NOFREE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("ON "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("\n")])])]),e("p",[a._v("编译"),e("code",[a._v("OpenCV Contrib")]),a._v("模块时，对应版本是"),e("code",[a._v("OpenCV 4.2.0")]),a._v("到"),e("code",[a._v("91%")]),a._v("时还报错如下：")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("Build error ‘integer_sequence’ is not a member of ‘std’\n")])])]),e("h2",{attrs:{id:"原因分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#原因分析"}},[a._v("#")]),a._v(" 原因分析")]),a._v(" "),e("p",[a._v("这是因为"),e("code",[a._v("OpenCV contrib")]),a._v("中的"),e("code",[a._v("SFM")]),a._v("使用"),e("code",[a._v("CERES")]),a._v("库，而"),e("code",[a._v("CERES")]),a._v("库中使用了"),e("code",[a._v("C++14")]),a._v("的标准，因此在编译的时候会报错，了解"),e("code",[a._v("C++")]),a._v("新标准的话很容易发现类"),e("code",[a._v("integer_sequence")]),a._v("是"),e("code",[a._v("C++14")]),a._v("标准中引入的。")]),a._v(" "),e("h2",{attrs:{id:"解决办法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决办法"}},[a._v("#")]),a._v(" 解决办法")]),a._v(" "),e("p",[a._v("一个办法是改变"),e("code",[a._v("SFM")]),a._v("模块编译使用的"),e("code",[a._v("c++")]),a._v("标准，找到")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("opencv_contrib/modules/sfm/src/libmv_light/libmv/multiview/CMakeLists.txt\n")])])]),e("p",[a._v("文件，在其中加入：")]),a._v(" "),e("div",{staticClass:"language-cmake extra-class"},[e("pre",{pre:!0,attrs:{class:"language-cmake"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("CMAKE_CXX_STANDARD")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("14")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("CMAKE_CXX_STANDARD_REQUIRED")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("ON")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),e("p",[a._v("然后重新执行上面的"),e("code",[a._v("cmake")]),a._v("命令后，重新编译即可。")]),a._v(" "),e("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-8685746128991385","data-ad-slot":"2974191661"}}),a._v(" "),e("h3",{attrs:{id:"reference"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[a._v("#")]),a._v(" reference")]),a._v(" "),e("blockquote",[e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/HKUST-Aerial-Robotics/VINS-Mono/issues/372",target:"_blank",rel:"noopener noreferrer"}},[a._v("1.https://github.com/HKUST-Aerial-Robotics/VINS-Mono/issues/372"),e("OutboundLink")],1)])])])],1)}),[],!1,null,null,null);e.default=r.exports}}]);