(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{359:function(a,e,t){"use strict";t.r(e);var s=t(17),r=Object(s.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"qtcreator中使用opencv"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#qtcreator中使用opencv"}},[a._v("#")]),a._v(" qtcreator中使用OpenCV")]),a._v(" "),e("h2",{attrs:{id:"_1-qt使用qmake的工程添加opencv库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-qt使用qmake的工程添加opencv库"}},[a._v("#")]),a._v(" 1.Qt使用qmake的工程添加OpenCV库")]),a._v(" "),e("p",[a._v("两种方式：")]),a._v(" "),e("ul",[e("li",[e("strong",[a._v("1>使用pkg-config")])])]),a._v(" "),e("p",[a._v("前提是已经正确编译安装了OpenCV和pkg-config")]),a._v(" "),e("p",[a._v("验证"),e("code",[a._v("pkg-config --libs opencv")]),a._v("要能得到正确的输出，如下：")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("detectron"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" lx@lx-rob:/media/lx/data/code$ pkg-config "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--libs")]),a._v(" opencv4\n-L/home/lx/opencv/install/lib "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_gapi")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_stitching")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_alphamat")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_aruco")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_barcode")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_bgsegm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_bioinspired")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_ccalib")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_dnn_objdetect")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_dnn_superres")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_dpm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_face")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_freetype")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_fuzzy")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_hdf")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_hfs")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_img_hash")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_intensity_transform")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_line_descriptor")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_mcc")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_quality")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_rapid")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_reg")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_rgbd")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_saliency")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_sfm")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_stereo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_structured_light")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_phase_unwrapping")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_superres")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_optflow")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_surface_matching")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_tracking")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_highgui")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_datasets")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_text")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_plot")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_videostab")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_videoio")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_viz")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_wechat_qrcode")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_xfeatures2d")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_shape")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_ml")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_ximgproc")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_video")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_xobjdetect")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_objdetect")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_calib3d")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_imgcodecs")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_features2d")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_dnn")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_flann")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_xphoto")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_photo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_imgproc")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_core")]),a._v("\n")])])]),e("p",[a._v("关于"),e("code",[a._v("OpenCV")]),a._v("的安装配置可以参考"),e("a",{attrs:{href:"https://blog.csdn.net/lx_ros/article/details/121238275",target:"_blank",rel:"noopener noreferrer"}},[a._v("(一)Linux下C++ OpenCV开发环境搭建"),e("OutboundLink")],1)]),a._v(" "),e("p",[e("code",[a._v("qt creator")]),a._v("工程添加‵OpenCV"),e("code",[a._v("库： 选中工程名，右键，")]),a._v("add library`")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/qc1.jpg",alt:""}}),e("br"),a._v("\n输入"),e("code",[a._v("package name")]),a._v("即可，在"),e("code",[a._v("project.pro")]),a._v("文件中会自动添加如下行："),e("br"),a._v(" "),e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/qc2.jpg",alt:""}})]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("unix: CONFIG "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+=")]),a._v(" link_pkgconfig\nunix: PKGCONFIG "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+=")]),a._v(" opencv4\n")])])]),e("ul",[e("li",[e("strong",[a._v("2>External Library")])])]),a._v(" "),e("p",[a._v("添加OpenCV库选择External Library项")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/qc3.jpg",alt:""}}),e("br"),a._v(" "),e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/qc4.jpg",alt:""}})]),a._v(" "),e("p",[a._v("添加后，在"),e("code",[a._v("project.pro")]),a._v("文件中会自动添加如下行：")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("unix:"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("macx: LIBS "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+=")]),a._v(" -L$"),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PWD")]),a._v("/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/sw/opencv/install/lib/ "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-lopencv_alphamat")]),a._v("\n\nINCLUDEPATH "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+=")]),a._v(" $"),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PWD")]),a._v("/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/sw/opencv/install/include\nDEPENDPATH "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+=")]),a._v(" $"),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PWD")]),a._v("/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/sw/opencv/install/include\n")])])]),e("p",[a._v("在上面"),e("code",[a._v("LIBS+=")]),a._v("语句中只自动添加了"),e("code",[a._v("-lopencv_alphamat")]),a._v("，这是不够的，一个个手动添加很麻烦，如果还可以在"),e("code",[a._v(".pro")]),a._v("文件中调用"),e("code",[a._v("pkg-config")]),a._v("语句，如下")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("unix:"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!")]),a._v("macx: LIBS "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("pkg-config "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--libs")]),a._v(" opencv4"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("\n\nINCLUDEPATH "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+=")]),a._v(" $"),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PWD")]),a._v("/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/sw/opencv/install/include\nDEPENDPATH "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+=")]),a._v(" $"),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PWD")]),a._v("/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/sw/opencv/install/include\n")])])]),e("p",[a._v("写法类似makefile")]),a._v(" "),e("h2",{attrs:{id:"_2-debug时常见问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-debug时常见问题"}},[a._v("#")]),a._v(" 2.Debug时常见问题")]),a._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[a._v("00:26:23: Debugging starts\n/media/lx/data/code/build-Demo-Desktop_Qt_5_14_0_GCC_64bit-Debug/Demo: error "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("while")]),a._v(" loading shared libraries: libopencv_imgcodecs.so.405: cannot "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("open")]),a._v(" shared object file: No such "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("file")]),a._v(" or directory\n00:26:23: Debugging has finished\n")])])]),e("p",[e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/qc5.jpg",alt:""}})]),a._v(" "),e("p",[a._v("这是因为在"),e("code",[a._v("LD_LIBRARY_PATH")]),a._v("中没有添加"),e("code",[a._v("LIBS")]),a._v("的路径，具体可查看"),e("code",[a._v("LD_LIBRARY_PATH")]),a._v("环境变量，qtcreator中的"),e("code",[a._v("LD_LIBRARY_PATH")]),a._v("的设置方式为")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/qc6.jpg",alt:""}})]),a._v(" "),e("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-8685746128991385","data-ad-slot":"2974191661"}})],1)}),[],!1,null,null,null);e.default=r.exports}}]);