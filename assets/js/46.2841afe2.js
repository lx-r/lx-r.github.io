(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{364:function(t,e,n){"use strict";n.r(e);var o=n(17),a=Object(o.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"_1-torch-nn-functional-interpolate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-torch-nn-functional-interpolate"}},[t._v("#")]),t._v(" 1.TORCH.NN.FUNCTIONAL.INTERPOLATE")]),t._v(" "),e("blockquote",[e("p",[t._v("torch.nn.functional.interpolate(input, size=None, scale_factor=None, mode='nearest', align_corners=None, recompute_scale_factor=None, antialias=False)")])]),t._v(" "),e("p",[t._v("将输入"),e("code",[t._v("input")]),t._v("上采样或下采样到指定的"),e("code",[t._v("size")]),t._v("或缩放因子上"),e("code",[t._v("scale_factor")])]),t._v(" "),e("p",[e("code",[t._v("resize")]),t._v("使用的算法由"),e("code",[t._v("mode")]),t._v("参数决定,"),e("code",[t._v("mode")]),t._v("默认为"),e("code",[t._v("nearest")]),t._v(", 可选参数有"),e("code",[t._v("nearest")]),t._v("/"),e("code",[t._v("linear")]),t._v("(3D Inputs-only)/"),e("code",[t._v("bilinear")]),t._v("/"),e("code",[t._v("bicubic")]),t._v("(4D Inputs-only)/"),e("code",[t._v("trilinear")]),t._v("(5D Inputs-only)/"),e("code",[t._v("area")]),t._v("/"),e("code",[t._v("nearest-exact")])]),t._v(" "),e("p",[t._v("支持输入"),e("code",[t._v("input")]),t._v("为3/4/5维数据，输入数据维度的顺序为"),e("code",[t._v("mini-batch x channels x [optional depth] x [optional height] x width")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("参数")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("input")]),t._v(":输入向量")]),t._v(" "),e("li",[e("code",[t._v("size")]),t._v("(int or Tuple[int] or Tuple[int, int] or Tuple[int, int, int])输出数据的空间尺度")]),t._v(" "),e("li",[t._v("mode (str) ：采样算法")]),t._v(" "),e("li",[e("code",[t._v("align_corners")]),t._v("：输出的结果是否角对齐，对插值后的边的处理方式有所不同，参考"),e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/87572724",target:"_blank",rel:"noopener noreferrer"}},[t._v("一文看懂align_corners"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("code",[t._v("recompute_scale_factor")]),t._v(":是否重新计算"),e("code",[t._v("scale_factor")]),t._v(",默认"),e("code",[t._v("None")]),t._v("，选择特定的插值方式时可用")])])])]),t._v(" "),e("p",[e("code",[t._v("align_corners")]),t._v("为"),e("code",[t._v("False")]),t._v("和"),e("code",[t._v("True")]),t._v("时输出的对比：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/inter1c.jpg",alt:""}})]),t._v(" "),e("h2",{attrs:{id:"_2-示例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-示例"}},[t._v("#")]),t._v(" 2.示例")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import torch\nimport torch.nn.functional as F\n\nt = torch.tensor([[1,2,3],[4,5,6],[7,8,9]], dtype=torch.float).reshape(1,1,3,3)\nprint(t)\nit0 = F.interpolate(t, mode = 'bilinear', scale_factor=2)\nprint(it0)\n\nit1 = F.interpolate(t,  mode = 'bilinear', scale_factor=2, align_corners=True)\nprint(it1)\n\nimport cv2\nt = t.squeeze().cpu().numpy().astype(np.float32)\nimg = cv2.resize(t, (6,6), interpolation=cv2.INTER_LINEAR)\nprint(f\"opencv: \\n{img}\")\n")])])]),e("p",[e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/inter3int_res.jpg",alt:""}})]),t._v(" "),e("p",[t._v("可以看到"),e("code",[t._v("OpenCV")]),t._v("中的"),e("code",[t._v("resize")]),t._v("函数与设置"),e("code",[t._v("Pytorch")]),t._v("中"),e("code",[t._v("align_corners=False")]),t._v("时的输出是相同的。")]),t._v(" "),e("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-8685746128991385","data-ad-slot":"2974191661"}}),t._v(" "),e("h3",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),e("blockquote",[e("ul",[e("li",[e("a",{attrs:{href:"https://pytorch.org/docs/stable/generated/torch.nn.functional.interpolate.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.https://pytorch.org/docs/stable/generated/torch.nn.functional.interpolate.html"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/87572724",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.https://zhuanlan.zhihu.com/p/87572724"),e("OutboundLink")],1)])])])],1)}),[],!1,null,null,null);e.default=a.exports}}]);