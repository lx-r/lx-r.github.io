(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{374:function(t,e,a){"use strict";a.r(e);var n=a(17),s=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"目标检测指标voc-map的计算"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目标检测指标voc-map的计算"}},[t._v("#")]),t._v(" 目标检测指标VOC MAP的计算")]),t._v(" "),e("h2",{attrs:{id:"_1-map是什么"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-map是什么"}},[t._v("#")]),t._v(" 1.MAP是什么")]),t._v(" "),e("p",[e("strong",[t._v("在目标检测任务中，"),e("code",[t._v("MAP")]),t._v("是对算法模型检测结果一个广泛使用的评判标准")]),t._v("。"),e("code",[t._v("MAP")]),t._v("是"),e("code",[t._v("Mean Average Precision")]),t._v("，即在各个类别上的检测结果的平均精准率（"),e("code",[t._v("AP,Average Precision")]),t._v("）的平均，如果文字描述不清楚，下面看具体计算过程。理解"),e("code",[t._v("MAP")]),t._v("前需先弄明白平均精准率"),e("code",[t._v("AP(Average Precision)")]),t._v("、召回率"),e("code",[t._v("Recall")]),t._v("、精准率"),e("code",[t._v("Precision")]),t._v("、由"),e("code",[t._v("Recall")]),t._v("和"),e("code",[t._v("Precision")]),t._v("组成的"),e("code",[t._v("PR")]),t._v("曲线及曲线下面积"),e("code",[t._v("AUC(Area Under the Curve)")]),t._v("。")]),t._v(" "),e("h2",{attrs:{id:"_2-recall-precision-pr曲线-auc和ap"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-recall-precision-pr曲线-auc和ap"}},[t._v("#")]),t._v(" 2.Recall/Precision/PR曲线/AUC和AP")]),t._v(" "),e("p",[t._v("二分类预测问题，对于某个具体样本的预测结果有两种，要么是预测正确，要么是预测错误。而预测正确又可细分为样本标签是正值预测为正值（"),e("code",[t._v("TP,True Positive")]),t._v("）、样本标签是负值预测为负值("),e("code",[t._v("TN,True Negative")]),t._v(")； 而预测错误的场景亦可细分为样本标签为正预测为负("),e("code",[t._v("FN,False Negative")]),t._v(")、样本标签为负预测为正("),e("code",[t._v("FP,False Positive")]),t._v("),如下表：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("预测\\标签")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("0")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FN")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TN")])])])]),t._v(" "),e("p",[t._v("则"),e("code",[t._v("Recall")]),t._v("和"),e("code",[t._v("Precision")]),t._v("分别为：")]),t._v(" "),e("p",[e("code",[t._v("Recall")]),t._v(":召回率，即标签为正的样本有多少被预测为正")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/recall.jpg",alt:""}})]),t._v(" "),e("p",[e("code",[t._v("Precision")]),t._v(":精准率，即预测为正的结果中有多少实际标签为正")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/precision.jpg",alt:""}})]),t._v(" "),e("p",[t._v("对于目标检测任务，在所有的测试数据上，可以得到具体某个类别目标的预测框，"),e("b",{staticStyle:{color:"blue"}},[t._v("得到预测框后与测试数据的标签框进行比对")]),t._v("，可以计算取不同置信度阈值时，当前类别对应的"),e("code",[t._v("精准率Precision")]),t._v("和"),e("code",[t._v("召回率Recall")]),t._v(",记录对应的数据以"),e("code",[t._v("Precision")]),t._v("为纵轴，"),e("code",[t._v("Recall")]),t._v("为横轴即可画出对应的"),e("code",[t._v("Precision-Recall曲线")]),t._v("。下面通过1个例子来说明。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/img_desc_det.jpg",alt:""}})]),t._v(" "),e("p",[t._v("图中有7个图像，"),e("b",{staticStyle:{color:"green"}},[t._v("绿色框表示图像中某个类对象目标的标签框（15个）")]),t._v("，"),e("b",{staticStyle:{color:"red"}},[t._v("红色表示此类别在7张图像上目标的预测框（24个）")]),t._v("，预测框列表如下：")]),t._v(" "),e("p",[e("b",[t._v("表格1")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Images")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Prediction BBox")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Confidence")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("IOU")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("A")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("88%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.05")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("B")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("70%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.80")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("C")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("80%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("D")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("71%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.42")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("E")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("54%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.83")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("F")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("74%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("G")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("18%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.54")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("H")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("67%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.05")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("I")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("38%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.06")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("J")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("91%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.91")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("K")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("44%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("L")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("35%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.08")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("M")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("78%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.15")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("N")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("45%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.06")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("O")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("14%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("P")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("62%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.62")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Q")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("44%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.04")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("R")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("95%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.68")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("S")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("23%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.21")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("T")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("45%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.35")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("U")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("84%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.03")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("V")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("43%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.06")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image7")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("X")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("48%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.68")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image7")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Y")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("95%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.08")])])])]),t._v(" "),e("blockquote",[e("p",[t._v("IOU是什么怎么求的？"),e("a",{attrs:{href:""}},[t._v("可以看这里")])])]),t._v(" "),e("p",[e("code",[t._v("A-V")]),t._v("和"),e("code",[t._v("X")]),t._v(","),e("code",[t._v("Y")]),t._v("即算法输出的7张图像中目标的预测框，输出的检测框也即预测检测结果包含目标对象，也即都是"),e("code",[t._v("Position Prediction")]),t._v(",当然其中包括了 预测正确的 "),e("code",[t._v("True Positive（TP）")]),t._v("和 预测错误的"),e("code",[t._v("False Positive(FP)")]),t._v("。检测结果的最终输出还需根据"),e("code",[t._v("IOU")]),t._v("来判断，选取某个"),e("code",[t._v("IOU")]),t._v("阈值，大于"),e("code",[t._v("当前IOU阈值")]),t._v("的预测正确为"),e("code",[t._v("TP")]),t._v("，否则预测错误为"),e("code",[t._v("FP")]),t._v("。这里选定"),e("code",[t._v("IOU阈值为0.5")]),t._v("进行判断可得表格2。")]),t._v(" "),e("p",[e("b",[t._v("表格2")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Images")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Prediction BBox")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Confidence")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("IOU")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("IOU大于阈值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("TP/FP")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("A")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("88%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.05")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("B")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("70%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.80")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("C")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("80%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("D")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("71%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.42")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("E")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("54%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.83")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("F")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("74%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("G")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("18%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.54")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("H")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("67%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.05")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("I")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("38%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.06")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("J")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("91%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.91")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("K")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("44%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("L")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("35%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.08")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("M")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("78%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.15")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("N")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("45%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.06")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("O")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("14%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("P")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("62%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.62")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Q")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("44%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.04")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("R")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("95%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.68")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("S")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("23%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.21")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("T")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("45%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.35")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("U")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("84%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.03")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("V")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("43%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.06")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image7")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("X")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("48%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.68")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image7")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Y")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("95%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.08")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])])])]),t._v(" "),e("p",[t._v("将上述表格中的数据根据"),e("code",[t._v("Confidence")]),t._v("进行排序，可得如下"),e("code",[t._v("表格3")]),t._v("如下：")]),t._v(" "),e("p",[e("b",[t._v("表格3")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Images")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Prediction BBox")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Confidence")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("IOU")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("IOU大于阈值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("TP/FP")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("R")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("95%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.68")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image7")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Y")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("95%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.08")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("J")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("91%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.91")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("A")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("88%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.05")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("U")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("84%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.03")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("C")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("80%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("M")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("78%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.15")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("F")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("74%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("D")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("71%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.42")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("B")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("70%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.80")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("H")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("67%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.05")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("P")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("62%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.62")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("E")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("54%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.83")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image7")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("X")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("48%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.68")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("N")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("45%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.06")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("T")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("45%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.35")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("K")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("44%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Q")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("44%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.04")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("V")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("43%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.06")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("I")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("38%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.06")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("L")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("35%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.08")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("S")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("23%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.21")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("G")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("18%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.54")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("O")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("14%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")])])])]),t._v(" "),e("p",[t._v("从高到低取不同的置信度作为阈值分别计算对应的"),e("code",[t._v("Precision")]),t._v("和"),e("code",[t._v("Recall")]),t._v(",可得"),e("code",[t._v("表格4")]),t._v("，")]),t._v(" "),e("p",[e("b",[t._v("表格4")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Images")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Prediction BBox")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Confidence")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("IOU")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("IOU大于阈值")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("TP/FP")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("TP")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("TP总计")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("FP总计")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Precision")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("Recall")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("R")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("95%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.68")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1/1=1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1/15=0.0667")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image7")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Y")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("95%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.08")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1/2=0.5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1/15=0.0667")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("J")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("91%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.91")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2/3=0.6667")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2/15=0.1333")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("A")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("88%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.05")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2/4=0.5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2/15=0.1333")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("U")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("84%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.03")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2/5=0.4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2/15=0.1333")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("C")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("80%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2/6=0.3333")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2/15=0.1333")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("M")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("78%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.15")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2/7=0.2857")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2/15=0.1333")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("F")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("74%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2/8=0.25")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2/15=0.1333")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("D")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("71%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.42")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("7")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2/8=0.2222")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("2/15=0.1333")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("B")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("70%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.80")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("7")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.2")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("H")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("67%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.05")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("8")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.2727")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.2")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("P")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("62%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.62")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("8")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.3333")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.2667")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image2")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("E")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("54%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.83")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("8")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.3846")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.3333")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image7")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("X")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("48%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.68")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("8")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.4285")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.4")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("N")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("45%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.06")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("9")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.4")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("T")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("45%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.35")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("10")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.375")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.4")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("K")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("44%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("11")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.3529")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.4")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("Q")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("44%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.04")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("12")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.3333")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.4")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("V")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("43%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.06")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("13")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.3157")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.4")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("I")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("38%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.06")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("14")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.4")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("L")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("35%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.08")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("15")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.2857")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.4")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image5")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("S")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("23%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.21")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("6")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("16")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.2727")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.4")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image3")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("G")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("18%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.54")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("是")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("TP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("7")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("16")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.3043")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.4667")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("image4")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("O")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("14%")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.00")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("FP")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("7")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("17")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.2913")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("0.4667")])])])]),t._v(" "),e("p",[t._v("取"),e("code",[t._v("表格4")]),t._v("中的"),e("code",[t._v("Precision")]),t._v("和"),e("code",[t._v("Recall")]),t._v("可画出当"),e("code",[t._v("IOU阈值0.5时")]),t._v("的"),e("code",[t._v("Precision-Recall")]),t._v("曲线：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/prcurve1.jpg",alt:""}})]),t._v(" "),e("p",[e("code",[t._v("Average Precision(AP)")]),t._v("即是"),e("code",[t._v("P-R曲线")]),t._v("下面积，")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/ap_int.jpg",alt:""}})]),t._v(" "),e("p",[t._v("以上就是目标检测中某类别"),e("code",[t._v("特定IOU阈值")]),t._v("下"),e("code",[t._v("AP")]),t._v("的具体所指及其含义，各个类的"),e("code",[t._v("AP")]),t._v("求平均即可算得"),e("code",[t._v("特定IOU下的mAP")]),t._v(",不同的比赛采取不同的曲线下面积"),e("code",[t._v("AUC")]),t._v("近似计算策略，如"),e("code",[t._v("PASCAL2007")]),t._v("、"),e("code",[t._v("COCO")]),t._v("等。")]),t._v(" "),e("h2",{attrs:{id:"_3-ap的不同计算策略"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-ap的不同计算策略"}},[t._v("#")]),t._v(" 3.AP的不同计算策略")]),t._v(" "),e("ul",[e("li",[t._v("PASCAL VOC 2007")])]),t._v(" "),e("p",[t._v("在"),e("code",[t._v("PASCAL VOC 2007")]),t._v("中，在计算AP之前会对上述曲线进行平滑，平滑方法为，对每一个Precision值，使用其右边最大的Precision值替代,具体示意图如下:")]),t._v(" "),e("p",[t._v("图3-1：PR曲线向右取"),e("code",[t._v("precision")]),t._v("最大值替代"),e("br"),t._v(" "),e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/roud_ap_2007.jpg",alt:""}})]),t._v(" "),e("p",[t._v("平滑后，上面蓝色的PR曲线就变成了红色的虚线，平滑后的"),e("code",[t._v("PR曲线")]),t._v("变成了单调递减：")]),t._v(" "),e("p",[t._v("图3-2："),e("code",[t._v("PASCAL VOC 2007")]),t._v("取"),e("code",[t._v("[0:0.1:1]")]),t._v("11个点计算AP"),e("br"),t._v(" "),e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/round_ap_11.jpg",alt:""}})]),t._v(" "),e("p",[t._v("实际计算时，对平滑后的"),e("code",[t._v("Precision")]),t._v("曲线进行均匀采样出11个点（每个点间隔0.1），然后计算这11个点的平均"),e("code",[t._v("Precision")]),t._v(":"),e("br"),t._v(" "),e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/ap11.jpg",alt:""}})]),t._v(" "),e("ul",[e("li",[t._v("PASCAL VOC 2007后")])]),t._v(" "),e("p",[t._v("上述11点插值的办法由于插值点数过少，容易导致结果不准。一个解决办法就是内插所有点。所谓内插所有点，其实就是对上述平滑之后的曲线算曲线下面积。")]),t._v(" "),e("p",[t._v("图3-3："),e("code",[t._v("PASCAL VOC 2007后")]),t._v("计算平滑后曲线下面积作AP"),e("br"),t._v(" "),e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/all_point.jpg",alt:""}})]),t._v(" "),e("p",[t._v("在上面的例子中：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/equation_all.jpg",alt:""}})]),t._v(" "),e("ul",[e("li",[t._v("COCO")])]),t._v(" "),e("p",[t._v("COCO中根据不同的"),e("code",[t._v("IOU阈值")]),t._v("计算了"),e("code",[t._v("AP50、AP75")]),t._v("等"),e("br"),t._v("\n且"),e("code",[t._v("COCO")]),t._v("中使用的是"),e("code",[t._v("101")]),t._v("个点对"),e("code",[t._v("PR")]),t._v("曲线做插值，得到的结果会更准确。")]),t._v(" "),e("h2",{attrs:{id:"_4-代码实现"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-代码实现"}},[t._v("#")]),t._v(" 4.代码实现")]),t._v(" "),e("ul",[e("li",[t._v("计算"),e("code",[t._v("Precision")]),t._v("和"),e("code",[t._v("Recall")])])]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_precision_and_recall")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("detpath"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n             annopath"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n             imagesetfile"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n             classname"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n             cachedir"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n             ovthresh"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# read list of images")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imagesetfile"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'r'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" f"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        lines "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" f"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("readlines"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    imagenames "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strip"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" x "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" lines"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    recs "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" imagename "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("enumerate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imagenames"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        recs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("imagename"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parse_rec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("annopath"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imagename"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# extract all ground truth objects for current class")]),t._v("\n    class_recs "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    npos "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" imagename "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" imagenames"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        R "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("obj "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" obj "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" recs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("imagename"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" obj"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" classname"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        bbox "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bbox'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" x "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" R"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        difficult "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'difficult'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" x "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" R"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("astype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bool")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        det "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("R"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        npos "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" npos "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v("difficult"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        class_recs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("imagename"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bbox'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" bbox"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                 "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'difficult'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" difficult"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                 "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'det'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" det"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# read detected bounding box")]),t._v("\n    detfile "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" detpath"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("format")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("classname"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("detfile"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'r'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" f"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        lines "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" f"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("readlines"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    splitlines "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strip"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("split"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" x "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" lines"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    image_ids "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" x "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" splitlines"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    confidence "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" x "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" splitlines"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    BB "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("z"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" z "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" x "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" splitlines"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sort by confidence")]),t._v("\n    sorted_ind "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("argsort"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("confidence"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    sorted_scores "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sort"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("confidence"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    BB "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" BB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("sorted_ind"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    image_ids "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("image_ids"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" x "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" sorted_ind"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# go down dets and mark TPs and FPs")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# judge whether the bb is correct for every bb ")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# in the corresponing img")]),t._v("\n    nd "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("image_ids"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tp "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zeros"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    fp "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zeros"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" d "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nd"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        R "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" class_recs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("image_ids"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        bb "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" BB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("astype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        ovmax "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("inf\n        BBGT "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" R"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bbox'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("astype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" BBGT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("size "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# compute overlaps intersection(IOU)")]),t._v("\n            ixmin "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("maximum"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BBGT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            iymin "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("maximum"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BBGT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            ixmax "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("minimum"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BBGT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            iymax "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("minimum"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BBGT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            iw "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("maximum"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ixmax "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" ixmin "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            ih "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("maximum"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("iymax "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" iymin "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            inters "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" iw "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" ih\n            uni "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" bb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" bb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("\n                   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BBGT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" BBGT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n                   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("BBGT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" BBGT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" inters"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n            overlaps "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" inters "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" uni\n            ovmax "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("max")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("overlaps"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            jmax "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("argmax"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("overlaps"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" ovmax "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" ovthresh"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" R"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'difficult'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("jmax"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" R"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'det'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("jmax"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n                    tp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("\n                    R"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'det'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("jmax"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n                "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# repeated predicition is fp")]),t._v("\n                    fp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            fp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# compute precision recall")]),t._v("\n    fp "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cumsum"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tp "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cumsum"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    rec "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tp "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("npos"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# avoid divide by zero in case the first detection matches a difficult")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ground truth")]),t._v("\n    prec "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tp "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("maximum"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tp "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" fp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("finfo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("float64"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eps"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" prec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("rec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),e("ul",[e("li",[t._v("计算"),e("code",[t._v("Average Precision")])])]),t._v(" "),e("div",{staticClass:"language-python extra-class"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("voc_ap")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" use_07_metric"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('""" ap = voc_ap(rec, prec, [use_07_metric])\n    Compute VOC AP given precision and recall.\n    If use_07_metric is true, uses the\n    VOC 07 11 point method (default:False).\n    """')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" use_07_metric"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 11 point metric")]),t._v("\n        ap "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" t "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arange"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rec "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                p "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                p "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("max")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("rec "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            ap "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ap "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" p "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("11.")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# after 2007")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# correct AP calculation")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# first append sentinel values at the end")]),t._v("\n        mrec "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concatenate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        mpre "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concatenate"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# compute the precision envelope")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("range")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mpre"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("size "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            mpre"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("maximum"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mpre"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mpre"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# to calculate area under PR curve, look for points")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# where X axis (recall) changes value")]),t._v("\n        i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("where"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mrec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" mrec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# and sum (\\Delta recall) * prec")]),t._v("\n        ap "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sum")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mrec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" mrec"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" mpre"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ap\n")])])]),e("p",[t._v("可运行代码地址(两个地址同一个仓库，任选其一访问即可)：")]),t._v(" "),e("blockquote",[e("p",[t._v("1.https://gitee.com/lx_r/object_detection_task.git")])]),t._v(" "),e("blockquote",[e("p",[t._v("2.https://github.com/lxrobot/object_detection_task.git")])]),t._v(" "),e("p",[t._v("（跑不起来的代码都是刷流氓^_^）")]),t._v(" "),e("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-8685746128991385","data-ad-slot":"2974191661"}}),t._v(" "),e("h3",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),e("blockquote",[e("ul",[e("li",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/60834912",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.https://zhuanlan.zhihu.com/p/60834912"),e("OutboundLink")],1)])])])],1)}),[],!1,null,null,null);e.default=s.exports}}]);