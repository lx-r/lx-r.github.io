(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{390:function(t,a,s){"use strict";s.r(a);var n=s(17),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_1-introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-introduction"}},[t._v("#")]),t._v(" 1.Introduction")]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://www.cs.cmu.edu/~efros/courses/LBMV07/Papers/viola-cvpr-01.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("Rapid Object Detection using a Boosted Cascade of Simple Features"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("Haar特征是由Viola和Jones在2001年提出的，用于面部识别和人脸检测。")]),t._v(" "),a("p",[t._v("Haar特征的基本思想是将图像划分为多个矩形区域，并计算每个矩形区域内像素值的差异，从而得到一组能够有效描述图像特征的数值。Haar特征与小波变换有相似之处，因此也被称之为Haar小波。")]),t._v(" "),a("p",[t._v("Haar特征由一系列可以缩放的矩形(如下图所示)结合原图像进行运算得到的，这种方法最早在1909年由匈牙利数学家"),a("code",[t._v("Alfred Haar")]),t._v("提出。"),a("code",[t._v("Haar Feature")]),t._v("的求解过程与卷积有相似之处。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/haar1.jpg",alt:""}})]),t._v(" "),a("p",[t._v("如上图中，一种矩形表示一种Haar特征，大小不同也能得到不同的Haar特征。其应用思路如下，考虑人脸检测，Haar特征能够识别出人脸的关键部位。如下图，检测眉毛位置使用图中所示意的Haar特征，因眉毛处的像素比额头处要暗，也就是灰度值小，拿矩形白色部分的像素和减去黑色矩形的像素和，能得到比其他部位更大的灰度插值。同样，对鼻子处，左右部分也存在灰度差值。")]),t._v(" "),a("blockquote",[a("p",[t._v("图片来自于"),a("a",{attrs:{href:"https://medium.com/analytics-vidhya/what-is-haar-features-used-in-face-detection-a7e531c8332b",target:"_blank",rel:"noopener noreferrer"}},[t._v("1"),a("OutboundLink")],1)])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/haar2.jpg",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"_2-haar特征计算详解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-haar特征计算详解"}},[t._v("#")]),t._v(" 2.Haar特征计算详解")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/haar3.jpg",alt:""}})]),t._v(" "),a("p",[t._v("以上图所示的模式来计算"),a("code",[t._v("Haar")]),t._v("特征。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/haar4.jpg",alt:""}})]),t._v(" "),a("p",[t._v("上面这个图表示的是对一个"),a("code",[t._v("3x3")]),t._v("大小的图像求"),a("code",[t._v("type-2-x")]),t._v("模式的"),a("code",[t._v("Haar")]),t._v("特征的过程，即"),a("strong",[t._v("黑色区域像素和减去白色区域像素和")]),t._v("。一个宽高"),a("code",[t._v("3x3")]),t._v("的图像，经过"),a("code",[t._v("rescale")]),t._v("的"),a("code",[t._v("type-2-x")]),t._v("的"),a("code",[t._v("Haar")]),t._v("变换可以得到12个特征值。当图像尺度变大时能够得到更多的"),a("code",[t._v("Haar")]),t._v("特征。对一个宽高"),a("code",[t._v("8x8")]),t._v("的图像，"),a("code",[t._v("type-2-x")]),t._v("的"),a("code",[t._v("Haar")]),t._v("变换可以得到576个特征值；而对一个宽高"),a("code",[t._v("56x56")]),t._v("的图像，"),a("code",[t._v("type-2-x")]),t._v("的"),a("code",[t._v("Haar")]),t._v("变换可以得到1251264个特征值。")]),t._v(" "),a("p",[t._v("从上面的示例中也可以看到，Haar变换的计算过程涉及到图像区域像素的求和，不同scale的Haar变换，图像区域其实是有重和的，反复的进行求和比较耗时，为了提高计算的性能，可以使用"),a("strong",[t._v("积分图")]),t._v("改进"),a("code",[t._v("Haar")]),t._v("算法。")]),t._v(" "),a("p",[t._v("**积分图的定义是对于图像每个像素将其左上角所有像素求和所得。**如上面的宽高"),a("code",[t._v("3x3")]),t._v("图像的示例，其对应的积分图为：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/haar5.jpg",alt:""}})]),t._v(" "),a("p",[t._v("有了积分图后，可以借助积分图求图像特定区域的面积。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/haar6.jpg",alt:""}})]),t._v(" "),a("p",[t._v("看上面这张图，表示原始图像的积分图，想要求原图像区域D中的像素和，使用积分图计算如下：")]),t._v(" "),a("p",[t._v("积分图上点1处的值为："),a("code",[t._v("ii(1)=RectSum(A)")])]),t._v(" "),a("p",[t._v("积分图上点2处的值为："),a("code",[t._v("ii(2)=RectSum(A) - RectSum(B)")])]),t._v(" "),a("p",[t._v("积分图上点3处的值为："),a("code",[t._v("ii(3)=RectSum(A) + RectSum(C)")])]),t._v(" "),a("p",[t._v("积分图上点4处的值为："),a("code",[t._v("ii(1)=RectSum(A) - RectSum(B) + RectSum(C) + RectSum(D)")])]),t._v(" "),a("p",[t._v("求区域D的像素和可表示成"),a("code",[t._v("RectSum(D)=ii(4) + ii(1) - ii(2) - ii(3)")]),t._v(",通过这种方式计算原图像中区域像素的和可以极大的减少运算量，加快运算速度。")]),t._v(" "),a("p",[t._v("通过上面的介绍可以知道，一张图像可以得到非常多的"),a("code",[t._v("Haar")]),t._v("特征，很多特征都是和目标检测无关的，传统的方法通常将"),a("code",[t._v("Adaboost")]),t._v("分类器和"),a("code",[t._v("Haar")]),t._v("特征一起使用，其思想是将"),a("code",[t._v("Haar")]),t._v("特征当成很多个弱分类器，再使用"),a("code",[t._v("Adaboost")]),t._v("将如此多的弱分类器组合到一起组成强分类器。实际使用中，采用级联的分类器，以便更快的判断出图像区域中是否包含人脸，如下图，")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/haar7w.jpg",alt:""}})]),t._v(" "),a("p",[t._v("使用"),a("code",[t._v("Adaboost")]),t._v("和"),a("code",[t._v("Haar")]),t._v("特征来做人脸检测的例子可以参考"),a("a",{attrs:{href:"https://scikit-image.org/docs/stable/auto_examples/applications/plot_haar_extraction_selection_classification.html#sphx-glr-auto-examples-applications-plot-haar-extraction-selection-classification-py",target:"_blank",rel:"noopener noreferrer"}},[t._v("SkImage"),a("OutboundLink")],1),t._v("的示例。")]),t._v(" "),a("h2",{attrs:{id:"_3-使用sklearn计算haar特征"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用sklearn计算haar特征"}},[t._v("#")]),t._v(" 3.使用sklearn计算Haar特征")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("skimage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("haar_like_feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("int_image"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" width"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feature_type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feature_coord"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[a("code",[t._v("r")]),t._v(": 计算"),a("code",[t._v("Haar")]),t._v("特征图像的起始区域左上角的行坐标")]),t._v(" "),a("li",[a("code",[t._v("c")]),t._v(": 计算"),a("code",[t._v("Haar")]),t._v("特征图像的起始区域左上角的列坐标")]),t._v(" "),a("li",[a("code",[t._v("width")]),t._v(": 计算"),a("code",[t._v("Haar")]),t._v("特征图像的区域宽度")]),t._v(" "),a("li",[a("code",[t._v("height")]),t._v(": 计算"),a("code",[t._v("Haar")]),t._v("特征图像的起始区域高度")]),t._v(" "),a("li",[a("code",[t._v("feature_type")]),t._v("：计算"),a("code",[t._v("Haar")]),t._v("特征使用的模式，支持"),a("code",[t._v("type-2-x/type-2-y/type-3-x/type-3-y/type-4")]),t._v("这几种。")]),t._v(" "),a("li",[a("code",[t._v("feature_coord")]),t._v(":计算"),a("code",[t._v("Haar")]),t._v("特征使用的模式矩形，白色和黑色区域的起始和终止坐标，其值可以使用"),a("code",[t._v("haar_like_feature_coord()")]),t._v("方法来获取。具体看下面的例子。")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://day-pic-1311699660.cos.ap-nanjing.myqcloud.com/image/haar7p.jpg",alt:""}})]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" skimage "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" feature\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" numpy "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" np\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" skimage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transform "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" integral_image\nimg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("random"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("randint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nimg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uint8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\nimg:\n[[ 70  84  24]\n [ 41 222 212]\n [252 164 108]]\n"""')]),t._v("\n\ntypes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type-2-x'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type-2-x'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nint_image "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" img\nh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" w "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" int_image"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shape"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nii "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" integral_image"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("int_image"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfeat_coord "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" np"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("array"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfeat "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("haar_like_feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ii"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" w"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" h"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feature_type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feature_coord"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("feat_coord"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v('"\nintergral_img'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("70")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("154")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("178")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("111")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("417")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("653")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("363")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("833")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1177")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nHaar Feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("195")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[t._v("使用"),a("code",[t._v("haar_like_feature_coord")]),t._v("计算矩形的起始区域：")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("feat_coord"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" feat_type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" feature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("haar_like_feature_coord"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'type-2-x'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("feat_coord"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\nHaar Coordinate:\n[list([[(0, 0), (0, 0)], [(0, 1), (0, 1)]])\n list([[(0, 0), (1, 0)], [(0, 1), (1, 1)]])\n list([[(0, 0), (2, 0)], [(0, 1), (2, 1)]])\n list([[(0, 1), (0, 1)], [(0, 2), (0, 2)]])\n list([[(0, 1), (1, 1)], [(0, 2), (1, 2)]])\n list([[(0, 1), (2, 1)], [(0, 2), (2, 2)]])\n list([[(1, 0), (1, 0)], [(1, 1), (1, 1)]])\n list([[(1, 0), (2, 0)], [(1, 1), (2, 1)]])\n list([[(1, 1), (1, 1)], [(1, 2), (1, 2)]])\n list([[(1, 1), (2, 1)], [(1, 2), (2, 2)]])\n list([[(2, 0), (2, 0)], [(2, 1), (2, 1)]])\n list([[(2, 1), (2, 1)], [(2, 2), (2, 2)]])]\n"""')]),t._v("\n")])])]),a("InArticleAdsense",{attrs:{"data-ad-client":"ca-pub-8685746128991385","data-ad-slot":"2974191661"}}),t._v(" "),a("h3",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("a",{attrs:{href:"https://medium.com/analytics-vidhya/what-is-haar-features-used-in-face-detection-a7e531c8332b",target:"_blank",rel:"noopener noreferrer"}},[t._v("1.https://medium.com/analytics-vidhya/what-is-haar-features-used-in-face-detection-a7e531c8332b"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/38056144",target:"_blank",rel:"noopener noreferrer"}},[t._v("2.https://zhuanlan.zhihu.com/p/38056144"),a("OutboundLink")],1)])])])],1)}),[],!1,null,null,null);a.default=e.exports}}]);