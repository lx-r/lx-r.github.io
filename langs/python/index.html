<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python中的魔术方法 | GoldNotes</title>
    <meta name="generator" content="VuePress 1.9.10">
    <script>
            var _hmt = _hmt || [];
            (function() {
            // 引入谷歌,不需要可删除这段
            var hm1 = document.createElement("script");
            hm1.src = "https://www.googletagmanager.com/gtag/js?id=G-BDK0Y9WWLP";
            var s1 = document.getElementsByTagName("script")[0]; 
            s1.parentNode.insertBefore(hm1, s1);
            })();
            // 谷歌加载,不需要可删除
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-BDK0Y9WWLP');
        </script>
    <link rel="icon" href="/logo.png">
    <script data-ad-client="ca-pub-8685746128991385" async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/0.styles.c5e7512f.css" as="style"><link rel="preload" href="/assets/js/app.4fb1e7ac.js" as="script"><link rel="preload" href="/assets/js/2.441eb26f.js" as="script"><link rel="preload" href="/assets/js/1.1a1c696e.js" as="script"><link rel="preload" href="/assets/js/157.04fb08da.js" as="script"><link rel="prefetch" href="/assets/js/10.5a2e9b6f.js"><link rel="prefetch" href="/assets/js/100.ef80225f.js"><link rel="prefetch" href="/assets/js/101.e15d219a.js"><link rel="prefetch" href="/assets/js/102.d6f75c18.js"><link rel="prefetch" href="/assets/js/103.12816430.js"><link rel="prefetch" href="/assets/js/104.7cafc7da.js"><link rel="prefetch" href="/assets/js/105.a95fe706.js"><link rel="prefetch" href="/assets/js/106.f9124e10.js"><link rel="prefetch" href="/assets/js/107.8ff67460.js"><link rel="prefetch" href="/assets/js/108.f9d986f5.js"><link rel="prefetch" href="/assets/js/109.32bd2df3.js"><link rel="prefetch" href="/assets/js/11.3e0edbf0.js"><link rel="prefetch" href="/assets/js/110.313ef3df.js"><link rel="prefetch" href="/assets/js/111.b8637dcf.js"><link rel="prefetch" href="/assets/js/112.9e6011d2.js"><link rel="prefetch" href="/assets/js/113.63c9a458.js"><link rel="prefetch" href="/assets/js/114.50d79414.js"><link rel="prefetch" href="/assets/js/115.f6673090.js"><link rel="prefetch" href="/assets/js/116.a6d8417d.js"><link rel="prefetch" href="/assets/js/117.7e612414.js"><link rel="prefetch" href="/assets/js/118.d92d9409.js"><link rel="prefetch" href="/assets/js/119.ebe75303.js"><link rel="prefetch" href="/assets/js/12.9a49b12f.js"><link rel="prefetch" href="/assets/js/120.552b6b09.js"><link rel="prefetch" href="/assets/js/121.db70210c.js"><link rel="prefetch" href="/assets/js/122.6f43bbfe.js"><link rel="prefetch" href="/assets/js/123.fad382fe.js"><link rel="prefetch" href="/assets/js/124.fc7d5e6b.js"><link rel="prefetch" href="/assets/js/125.644c16a8.js"><link rel="prefetch" href="/assets/js/126.b554f501.js"><link rel="prefetch" href="/assets/js/127.5d9889cb.js"><link rel="prefetch" href="/assets/js/128.7465973e.js"><link rel="prefetch" href="/assets/js/129.f3d49d26.js"><link rel="prefetch" href="/assets/js/13.c98d76f0.js"><link rel="prefetch" href="/assets/js/130.7f786c09.js"><link rel="prefetch" href="/assets/js/131.c588a4e5.js"><link rel="prefetch" href="/assets/js/132.a9d8f9d7.js"><link rel="prefetch" href="/assets/js/133.40e52588.js"><link rel="prefetch" href="/assets/js/134.46e589a3.js"><link rel="prefetch" href="/assets/js/135.22363a46.js"><link rel="prefetch" href="/assets/js/136.6ed1697a.js"><link rel="prefetch" href="/assets/js/137.85561c69.js"><link rel="prefetch" href="/assets/js/138.99a04494.js"><link rel="prefetch" href="/assets/js/139.f0552c7a.js"><link rel="prefetch" href="/assets/js/14.c033f4de.js"><link rel="prefetch" href="/assets/js/140.4ec1e061.js"><link rel="prefetch" href="/assets/js/141.a9837bb8.js"><link rel="prefetch" href="/assets/js/142.0daf24d0.js"><link rel="prefetch" href="/assets/js/143.f9fc0d3f.js"><link rel="prefetch" href="/assets/js/144.755f8542.js"><link rel="prefetch" href="/assets/js/145.fd3d789b.js"><link rel="prefetch" href="/assets/js/146.c2c62b01.js"><link rel="prefetch" href="/assets/js/147.f946170d.js"><link rel="prefetch" href="/assets/js/148.7733f24d.js"><link rel="prefetch" href="/assets/js/149.5d54ce19.js"><link rel="prefetch" href="/assets/js/15.6900fe6f.js"><link rel="prefetch" href="/assets/js/150.09134583.js"><link rel="prefetch" href="/assets/js/151.7522945c.js"><link rel="prefetch" href="/assets/js/152.808bd1b6.js"><link rel="prefetch" href="/assets/js/153.0af3f06c.js"><link rel="prefetch" href="/assets/js/154.53831122.js"><link rel="prefetch" href="/assets/js/155.53e5bdc3.js"><link rel="prefetch" href="/assets/js/156.8923d841.js"><link rel="prefetch" href="/assets/js/158.0e6663e8.js"><link rel="prefetch" href="/assets/js/159.2670449b.js"><link rel="prefetch" href="/assets/js/16.5077eb29.js"><link rel="prefetch" href="/assets/js/160.3fc6588a.js"><link rel="prefetch" href="/assets/js/161.7875402e.js"><link rel="prefetch" href="/assets/js/162.541ec610.js"><link rel="prefetch" href="/assets/js/163.c17ccbc0.js"><link rel="prefetch" href="/assets/js/164.86fce3b4.js"><link rel="prefetch" href="/assets/js/165.2b9548d0.js"><link rel="prefetch" href="/assets/js/166.66a2805f.js"><link rel="prefetch" href="/assets/js/167.4de98e57.js"><link rel="prefetch" href="/assets/js/168.6f000eaa.js"><link rel="prefetch" href="/assets/js/169.cda36066.js"><link rel="prefetch" href="/assets/js/17.112268e5.js"><link rel="prefetch" href="/assets/js/170.3f1ae11a.js"><link rel="prefetch" href="/assets/js/171.ae67c120.js"><link rel="prefetch" href="/assets/js/172.6f2bed6e.js"><link rel="prefetch" href="/assets/js/173.2b8efaa1.js"><link rel="prefetch" href="/assets/js/174.01667775.js"><link rel="prefetch" href="/assets/js/175.b6b57c90.js"><link rel="prefetch" href="/assets/js/176.241f6966.js"><link rel="prefetch" href="/assets/js/177.20a02334.js"><link rel="prefetch" href="/assets/js/178.a338760c.js"><link rel="prefetch" href="/assets/js/179.d31d1033.js"><link rel="prefetch" href="/assets/js/18.b015dc58.js"><link rel="prefetch" href="/assets/js/180.5292fa26.js"><link rel="prefetch" href="/assets/js/181.d76d57b6.js"><link rel="prefetch" href="/assets/js/182.e53b7eee.js"><link rel="prefetch" href="/assets/js/183.dd36cb6c.js"><link rel="prefetch" href="/assets/js/184.8c5d1acd.js"><link rel="prefetch" href="/assets/js/185.0fa69241.js"><link rel="prefetch" href="/assets/js/186.a060dcfc.js"><link rel="prefetch" href="/assets/js/187.7c5dd016.js"><link rel="prefetch" href="/assets/js/188.e1d6eb59.js"><link rel="prefetch" href="/assets/js/189.d080da82.js"><link rel="prefetch" href="/assets/js/19.a730210d.js"><link rel="prefetch" href="/assets/js/190.5ea05bc2.js"><link rel="prefetch" href="/assets/js/191.ccce8c21.js"><link rel="prefetch" href="/assets/js/192.8919b9f4.js"><link rel="prefetch" href="/assets/js/193.53a2231c.js"><link rel="prefetch" href="/assets/js/194.7dc4768d.js"><link rel="prefetch" href="/assets/js/195.1f14c2d3.js"><link rel="prefetch" href="/assets/js/196.95e1de51.js"><link rel="prefetch" href="/assets/js/197.61f1490e.js"><link rel="prefetch" href="/assets/js/198.c16e311f.js"><link rel="prefetch" href="/assets/js/199.a0463af3.js"><link rel="prefetch" href="/assets/js/20.a01ca174.js"><link rel="prefetch" href="/assets/js/200.88a1d097.js"><link rel="prefetch" href="/assets/js/201.ccd16283.js"><link rel="prefetch" href="/assets/js/202.63c30104.js"><link rel="prefetch" href="/assets/js/203.75cacf3b.js"><link rel="prefetch" href="/assets/js/204.78d81202.js"><link rel="prefetch" href="/assets/js/205.428844a4.js"><link rel="prefetch" href="/assets/js/206.536ab8ea.js"><link rel="prefetch" href="/assets/js/207.1d6ea039.js"><link rel="prefetch" href="/assets/js/208.559fa16a.js"><link rel="prefetch" href="/assets/js/209.024c14ee.js"><link rel="prefetch" href="/assets/js/21.56e4f12e.js"><link rel="prefetch" href="/assets/js/210.b4e24295.js"><link rel="prefetch" href="/assets/js/211.59133109.js"><link rel="prefetch" href="/assets/js/212.2c11bc51.js"><link rel="prefetch" href="/assets/js/213.4124dac6.js"><link rel="prefetch" href="/assets/js/214.3fe2516e.js"><link rel="prefetch" href="/assets/js/215.aef02404.js"><link rel="prefetch" href="/assets/js/216.02f537aa.js"><link rel="prefetch" href="/assets/js/217.4fb1b7ef.js"><link rel="prefetch" href="/assets/js/218.2effa1a4.js"><link rel="prefetch" href="/assets/js/219.c1de57a8.js"><link rel="prefetch" href="/assets/js/22.fcddc1c6.js"><link rel="prefetch" href="/assets/js/220.b5062ce2.js"><link rel="prefetch" href="/assets/js/221.d10aa87c.js"><link rel="prefetch" href="/assets/js/222.174a73b7.js"><link rel="prefetch" href="/assets/js/223.6bd66640.js"><link rel="prefetch" href="/assets/js/224.60738e78.js"><link rel="prefetch" href="/assets/js/225.29e10b6a.js"><link rel="prefetch" href="/assets/js/226.41609457.js"><link rel="prefetch" href="/assets/js/227.5d2a1817.js"><link rel="prefetch" href="/assets/js/228.ae086e62.js"><link rel="prefetch" href="/assets/js/229.23dbfd01.js"><link rel="prefetch" href="/assets/js/23.c542ac54.js"><link rel="prefetch" href="/assets/js/230.846276a3.js"><link rel="prefetch" href="/assets/js/231.a85ab6e0.js"><link rel="prefetch" href="/assets/js/232.0b6e6b4c.js"><link rel="prefetch" href="/assets/js/233.6cb92776.js"><link rel="prefetch" href="/assets/js/234.cea1dee5.js"><link rel="prefetch" href="/assets/js/235.500e92ea.js"><link rel="prefetch" href="/assets/js/236.bbc42488.js"><link rel="prefetch" href="/assets/js/237.2a724798.js"><link rel="prefetch" href="/assets/js/238.4ab2349d.js"><link rel="prefetch" href="/assets/js/239.d0bfc9cf.js"><link rel="prefetch" href="/assets/js/24.b876b0b7.js"><link rel="prefetch" href="/assets/js/240.605bb0c5.js"><link rel="prefetch" href="/assets/js/241.9570c994.js"><link rel="prefetch" href="/assets/js/242.18d655b8.js"><link rel="prefetch" href="/assets/js/243.1001542c.js"><link rel="prefetch" href="/assets/js/244.b6b11929.js"><link rel="prefetch" href="/assets/js/245.80f35f7e.js"><link rel="prefetch" href="/assets/js/246.33b89f85.js"><link rel="prefetch" href="/assets/js/247.7b6887c5.js"><link rel="prefetch" href="/assets/js/248.63719a2c.js"><link rel="prefetch" href="/assets/js/249.67a27bcb.js"><link rel="prefetch" href="/assets/js/25.1dcefbee.js"><link rel="prefetch" href="/assets/js/250.b26d162c.js"><link rel="prefetch" href="/assets/js/251.c796b53a.js"><link rel="prefetch" href="/assets/js/252.1305b2c8.js"><link rel="prefetch" href="/assets/js/253.032816e3.js"><link rel="prefetch" href="/assets/js/254.a40ea038.js"><link rel="prefetch" href="/assets/js/255.f961cc57.js"><link rel="prefetch" href="/assets/js/256.db863c94.js"><link rel="prefetch" href="/assets/js/257.d4fbd9ba.js"><link rel="prefetch" href="/assets/js/258.e75fd178.js"><link rel="prefetch" href="/assets/js/259.86faea64.js"><link rel="prefetch" href="/assets/js/26.59e81884.js"><link rel="prefetch" href="/assets/js/260.5052982a.js"><link rel="prefetch" href="/assets/js/261.e5150bda.js"><link rel="prefetch" href="/assets/js/262.d38b609d.js"><link rel="prefetch" href="/assets/js/263.6e33b2d1.js"><link rel="prefetch" href="/assets/js/264.bbb4378b.js"><link rel="prefetch" href="/assets/js/265.c10f1cb4.js"><link rel="prefetch" href="/assets/js/266.da1848ad.js"><link rel="prefetch" href="/assets/js/267.669cad05.js"><link rel="prefetch" href="/assets/js/268.849e9b54.js"><link rel="prefetch" href="/assets/js/269.db147d70.js"><link rel="prefetch" href="/assets/js/27.c6d3d68b.js"><link rel="prefetch" href="/assets/js/270.d7a9657a.js"><link rel="prefetch" href="/assets/js/271.7780769c.js"><link rel="prefetch" href="/assets/js/272.87997591.js"><link rel="prefetch" href="/assets/js/273.f97c10b8.js"><link rel="prefetch" href="/assets/js/274.21a985e4.js"><link rel="prefetch" href="/assets/js/275.26455192.js"><link rel="prefetch" href="/assets/js/276.a7c80ed1.js"><link rel="prefetch" href="/assets/js/277.c3387517.js"><link rel="prefetch" href="/assets/js/278.b8efb02b.js"><link rel="prefetch" href="/assets/js/279.28947d1f.js"><link rel="prefetch" href="/assets/js/28.6f255334.js"><link rel="prefetch" href="/assets/js/280.9d7368cd.js"><link rel="prefetch" href="/assets/js/281.536ed57f.js"><link rel="prefetch" href="/assets/js/282.bc9c2104.js"><link rel="prefetch" href="/assets/js/283.be87340c.js"><link rel="prefetch" href="/assets/js/284.85f91dd9.js"><link rel="prefetch" href="/assets/js/285.c997d364.js"><link rel="prefetch" href="/assets/js/29.ff17d212.js"><link rel="prefetch" href="/assets/js/3.939eb1e6.js"><link rel="prefetch" href="/assets/js/30.de8e75fd.js"><link rel="prefetch" href="/assets/js/31.2237e84f.js"><link rel="prefetch" href="/assets/js/32.24ea6ffd.js"><link rel="prefetch" href="/assets/js/33.24c84eee.js"><link rel="prefetch" href="/assets/js/34.7d7c5d30.js"><link rel="prefetch" href="/assets/js/35.e122dd64.js"><link rel="prefetch" href="/assets/js/36.62df0b93.js"><link rel="prefetch" href="/assets/js/37.df57cb81.js"><link rel="prefetch" href="/assets/js/38.3ec5fc5b.js"><link rel="prefetch" href="/assets/js/39.390a3693.js"><link rel="prefetch" href="/assets/js/4.61dbd51c.js"><link rel="prefetch" href="/assets/js/40.55d80750.js"><link rel="prefetch" href="/assets/js/41.2ab0a6ab.js"><link rel="prefetch" href="/assets/js/42.64bcd0f8.js"><link rel="prefetch" href="/assets/js/43.8b758d29.js"><link rel="prefetch" href="/assets/js/44.01f440d3.js"><link rel="prefetch" href="/assets/js/45.215f31f9.js"><link rel="prefetch" href="/assets/js/46.2841afe2.js"><link rel="prefetch" href="/assets/js/47.f898542e.js"><link rel="prefetch" href="/assets/js/48.d71a0437.js"><link rel="prefetch" href="/assets/js/49.09e4d0dc.js"><link rel="prefetch" href="/assets/js/5.8404b813.js"><link rel="prefetch" href="/assets/js/50.ca870680.js"><link rel="prefetch" href="/assets/js/51.76cb8363.js"><link rel="prefetch" href="/assets/js/52.7746a702.js"><link rel="prefetch" href="/assets/js/53.92e1e16d.js"><link rel="prefetch" href="/assets/js/54.565d805f.js"><link rel="prefetch" href="/assets/js/55.cd788d8f.js"><link rel="prefetch" href="/assets/js/56.8f7bf723.js"><link rel="prefetch" href="/assets/js/57.91a0d761.js"><link rel="prefetch" href="/assets/js/58.f642e24a.js"><link rel="prefetch" href="/assets/js/59.2a8e3be6.js"><link rel="prefetch" href="/assets/js/6.9c81633d.js"><link rel="prefetch" href="/assets/js/60.c832cb65.js"><link rel="prefetch" href="/assets/js/61.fe244e14.js"><link rel="prefetch" href="/assets/js/62.a6df731e.js"><link rel="prefetch" href="/assets/js/63.2d9337d6.js"><link rel="prefetch" href="/assets/js/64.175c6cf8.js"><link rel="prefetch" href="/assets/js/65.71d399f4.js"><link rel="prefetch" href="/assets/js/66.c2ff4239.js"><link rel="prefetch" href="/assets/js/67.2520b141.js"><link rel="prefetch" href="/assets/js/68.5e59ea8f.js"><link rel="prefetch" href="/assets/js/69.ef86b576.js"><link rel="prefetch" href="/assets/js/7.0dcde973.js"><link rel="prefetch" href="/assets/js/70.b6a38514.js"><link rel="prefetch" href="/assets/js/71.6891db67.js"><link rel="prefetch" href="/assets/js/72.875d6b6d.js"><link rel="prefetch" href="/assets/js/73.7b2a501e.js"><link rel="prefetch" href="/assets/js/74.58bab29f.js"><link rel="prefetch" href="/assets/js/75.07cbc52d.js"><link rel="prefetch" href="/assets/js/76.4abced12.js"><link rel="prefetch" href="/assets/js/77.7d6f96ed.js"><link rel="prefetch" href="/assets/js/78.bcf6d0aa.js"><link rel="prefetch" href="/assets/js/79.518f153c.js"><link rel="prefetch" href="/assets/js/80.28a5affe.js"><link rel="prefetch" href="/assets/js/81.b454a9d9.js"><link rel="prefetch" href="/assets/js/82.d1cece4c.js"><link rel="prefetch" href="/assets/js/83.206656f4.js"><link rel="prefetch" href="/assets/js/84.f148ca2a.js"><link rel="prefetch" href="/assets/js/85.49862eae.js"><link rel="prefetch" href="/assets/js/86.1be96c00.js"><link rel="prefetch" href="/assets/js/87.29271ed2.js"><link rel="prefetch" href="/assets/js/88.f0267ae8.js"><link rel="prefetch" href="/assets/js/89.74e42f1e.js"><link rel="prefetch" href="/assets/js/90.c2d94a52.js"><link rel="prefetch" href="/assets/js/91.8567aa93.js"><link rel="prefetch" href="/assets/js/92.44b8dd08.js"><link rel="prefetch" href="/assets/js/93.4d546387.js"><link rel="prefetch" href="/assets/js/94.6d4c5937.js"><link rel="prefetch" href="/assets/js/95.67ba4aea.js"><link rel="prefetch" href="/assets/js/96.5137f1ee.js"><link rel="prefetch" href="/assets/js/97.5861f7e7.js"><link rel="prefetch" href="/assets/js/98.80a7594c.js"><link rel="prefetch" href="/assets/js/99.4236959e.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.6fed1ae2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c5e7512f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">GoldNotes</span></a> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机视觉" class="dropdown-title"><span class="title">计算机视觉</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机视觉" class="mobile-dropdown-title"><span class="title">计算机视觉</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cv/dip/" class="nav-link">
  学习图像处理
</a></li><li class="dropdown-item"><!----> <a href="/cv/detection/" class="nav-link">
  学习目标检测
</a></li><li class="dropdown-item"><!----> <a href="/cv/segmentation/" class="nav-link">
  学习语义分割
</a></li><li class="dropdown-item"><!----> <a href="/cv/ocr/" class="nav-link">
  学习OCR
</a></li><li class="dropdown-item"><!----> <a href="/cv/human-pose/" class="nav-link">
  学习姿态估计
</a></li><li class="dropdown-item"><!----> <a href="/cv/gan/" class="nav-link">
  学习生成对抗网络
</a></li><li class="dropdown-item"><!----> <a href="/cv/datasets/" class="nav-link">
  学习开源数据
</a></li><li class="dropdown-item"><!----> <a href="/cv/tracking/" class="nav-link">
  学习目标追踪
</a></li><li class="dropdown-item"><!----> <a href="/cv/detection3d/" class="nav-link">
  学习3D目标检测
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法框架" class="dropdown-title"><span class="title">算法框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法框架" class="mobile-dropdown-title"><span class="title">算法框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ai/opencv/" class="nav-link">
  学习OpenCV
</a></li><li class="dropdown-item"><!----> <a href="/ai/torch/" class="nav-link">
  学习pytorch
</a></li><li class="dropdown-item"><!----> <a href="/ai/cuda/" class="nav-link">
  学习CUDA
</a></li><li class="dropdown-item"><!----> <a href="/ai/tensorflow/" class="nav-link">
  学习tensorflow
</a></li><li class="dropdown-item"><!----> <a href="/ai/onnx/" class="nav-link">
  学习ONNX
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="机器学习" class="dropdown-title"><span class="title">机器学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="机器学习" class="mobile-dropdown-title"><span class="title">机器学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ml/gnn/" class="nav-link">
  学习图算法
</a></li><li class="dropdown-item"><!----> <a href="/ml/singleclass/" class="nav-link">
  学习单分类算法
</a></li><li class="dropdown-item"><!----> <a href="/ml/oneshot/" class="nav-link">
  学习小样本算法
</a></li><li class="dropdown-item"><!----> <a href="/ml/common/" class="nav-link">
  学习常用算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="操作系统" class="dropdown-title"><span class="title">操作系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="操作系统" class="mobile-dropdown-title"><span class="title">操作系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/system/" class="nav-link">
  学习操作系统
</a></li><li class="dropdown-item"><!----> <a href="/system/linux/" class="nav-link">
  学习linux
</a></li><li class="dropdown-item"><!----> <a href="/system/ros/" class="nav-link">
  学习ROS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程语言" class="dropdown-title"><span class="title">编程语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="编程语言" class="mobile-dropdown-title"><span class="title">编程语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/langs/se/" class="nav-link">
  学习软件开发
</a></li><li class="dropdown-item"><!----> <a href="/langs/python/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  学习Python
</a></li><li class="dropdown-item"><!----> <a href="/langs/cpp/" class="nav-link">
  学习C++
</a></li><li class="dropdown-item"><!----> <a href="/langs/yaml/" class="nav-link">
  学习yaml
</a></li><li class="dropdown-item"><!----> <a href="/langs/sqlite/" class="nav-link">
  学习sql
</a></li><li class="dropdown-item"><!----> <a href="/langs/shell/" class="nav-link">
  学习shell
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="IT工具" class="dropdown-title"><span class="title">IT工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="IT工具" class="mobile-dropdown-title"><span class="title">IT工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/git/" class="nav-link">
  学习GIT
</a></li><li class="dropdown-item"><!----> <a href="/tools/docker/" class="nav-link">
  学习Docker
</a></li><li class="dropdown-item"><!----> <a href="/tools/gimp/" class="nav-link">
  学习GIMP
</a></li><li class="dropdown-item"><!----> <a href="/tools/vscode/" class="nav-link">
  学习VSCode
</a></li><li class="dropdown-item"><!----> <a href="/tools/hexo/" class="nav-link">
  学习hexo
</a></li><li class="dropdown-item"><!----> <a href="/tools/others/" class="nav-link">
  学习常用工具
</a></li><li class="dropdown-item"><!----> <a href="/tools/leetcodes/" class="nav-link">
  基础算法刷题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数学知识" class="dropdown-title"><span class="title">数学知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="数学知识" class="mobile-dropdown-title"><span class="title">数学知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/math/statistics/" class="nav-link">
  学习概率统计
</a></li><li class="dropdown-item"><!----> <a href="/math/linear-algebra/" class="nav-link">
  学习线性代数
</a></li><li class="dropdown-item"><!----> <a href="/math/calculus/" class="nav-link">
  学习高等数学
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="理财基础" class="dropdown-title"><span class="title">理财基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="理财基础" class="mobile-dropdown-title"><span class="title">理财基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/finance/evaluate.html" class="nav-link">
  评测指标
</a></li></ul></div></div> <!----></nav> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机视觉" class="dropdown-title"><span class="title">计算机视觉</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机视觉" class="mobile-dropdown-title"><span class="title">计算机视觉</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cv/dip/" class="nav-link">
  学习图像处理
</a></li><li class="dropdown-item"><!----> <a href="/cv/detection/" class="nav-link">
  学习目标检测
</a></li><li class="dropdown-item"><!----> <a href="/cv/segmentation/" class="nav-link">
  学习语义分割
</a></li><li class="dropdown-item"><!----> <a href="/cv/ocr/" class="nav-link">
  学习OCR
</a></li><li class="dropdown-item"><!----> <a href="/cv/human-pose/" class="nav-link">
  学习姿态估计
</a></li><li class="dropdown-item"><!----> <a href="/cv/gan/" class="nav-link">
  学习生成对抗网络
</a></li><li class="dropdown-item"><!----> <a href="/cv/datasets/" class="nav-link">
  学习开源数据
</a></li><li class="dropdown-item"><!----> <a href="/cv/tracking/" class="nav-link">
  学习目标追踪
</a></li><li class="dropdown-item"><!----> <a href="/cv/detection3d/" class="nav-link">
  学习3D目标检测
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法框架" class="dropdown-title"><span class="title">算法框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法框架" class="mobile-dropdown-title"><span class="title">算法框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ai/opencv/" class="nav-link">
  学习OpenCV
</a></li><li class="dropdown-item"><!----> <a href="/ai/torch/" class="nav-link">
  学习pytorch
</a></li><li class="dropdown-item"><!----> <a href="/ai/cuda/" class="nav-link">
  学习CUDA
</a></li><li class="dropdown-item"><!----> <a href="/ai/tensorflow/" class="nav-link">
  学习tensorflow
</a></li><li class="dropdown-item"><!----> <a href="/ai/onnx/" class="nav-link">
  学习ONNX
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="机器学习" class="dropdown-title"><span class="title">机器学习</span> <span class="arrow down"></span></button> <button type="button" aria-label="机器学习" class="mobile-dropdown-title"><span class="title">机器学习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ml/gnn/" class="nav-link">
  学习图算法
</a></li><li class="dropdown-item"><!----> <a href="/ml/singleclass/" class="nav-link">
  学习单分类算法
</a></li><li class="dropdown-item"><!----> <a href="/ml/oneshot/" class="nav-link">
  学习小样本算法
</a></li><li class="dropdown-item"><!----> <a href="/ml/common/" class="nav-link">
  学习常用算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="操作系统" class="dropdown-title"><span class="title">操作系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="操作系统" class="mobile-dropdown-title"><span class="title">操作系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/system/" class="nav-link">
  学习操作系统
</a></li><li class="dropdown-item"><!----> <a href="/system/linux/" class="nav-link">
  学习linux
</a></li><li class="dropdown-item"><!----> <a href="/system/ros/" class="nav-link">
  学习ROS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="编程语言" class="dropdown-title"><span class="title">编程语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="编程语言" class="mobile-dropdown-title"><span class="title">编程语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/langs/se/" class="nav-link">
  学习软件开发
</a></li><li class="dropdown-item"><!----> <a href="/langs/python/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  学习Python
</a></li><li class="dropdown-item"><!----> <a href="/langs/cpp/" class="nav-link">
  学习C++
</a></li><li class="dropdown-item"><!----> <a href="/langs/yaml/" class="nav-link">
  学习yaml
</a></li><li class="dropdown-item"><!----> <a href="/langs/sqlite/" class="nav-link">
  学习sql
</a></li><li class="dropdown-item"><!----> <a href="/langs/shell/" class="nav-link">
  学习shell
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="IT工具" class="dropdown-title"><span class="title">IT工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="IT工具" class="mobile-dropdown-title"><span class="title">IT工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/git/" class="nav-link">
  学习GIT
</a></li><li class="dropdown-item"><!----> <a href="/tools/docker/" class="nav-link">
  学习Docker
</a></li><li class="dropdown-item"><!----> <a href="/tools/gimp/" class="nav-link">
  学习GIMP
</a></li><li class="dropdown-item"><!----> <a href="/tools/vscode/" class="nav-link">
  学习VSCode
</a></li><li class="dropdown-item"><!----> <a href="/tools/hexo/" class="nav-link">
  学习hexo
</a></li><li class="dropdown-item"><!----> <a href="/tools/others/" class="nav-link">
  学习常用工具
</a></li><li class="dropdown-item"><!----> <a href="/tools/leetcodes/" class="nav-link">
  基础算法刷题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数学知识" class="dropdown-title"><span class="title">数学知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="数学知识" class="mobile-dropdown-title"><span class="title">数学知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/math/statistics/" class="nav-link">
  学习概率统计
</a></li><li class="dropdown-item"><!----> <a href="/math/linear-algebra/" class="nav-link">
  学习线性代数
</a></li><li class="dropdown-item"><!----> <a href="/math/calculus/" class="nav-link">
  学习高等数学
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="理财基础" class="dropdown-title"><span class="title">理财基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="理财基础" class="mobile-dropdown-title"><span class="title">理财基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/finance/evaluate.html" class="nav-link">
  评测指标
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>学习Python</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/langs/python/" aria-current="page" class="active sidebar-link">Python中的魔术方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/langs/python/#魔术方法简介" class="sidebar-link">魔术方法简介</a></li><li class="sidebar-sub-header"><a href="/langs/python/#用于对象构造析构的魔术方法" class="sidebar-link">用于对象构造析构的魔术方法</a></li><li class="sidebar-sub-header"><a href="/langs/python/#用于控制属性读写的魔术方法" class="sidebar-link">用于控制属性读写的魔术方法</a></li><li class="sidebar-sub-header"><a href="/langs/python/#对象的表示和描述" class="sidebar-link">对象的表示和描述</a></li><li class="sidebar-sub-header"><a href="/langs/python/#在定制类对象间支持使用运算符号" class="sidebar-link">在定制类对象间支持使用运算符号</a></li><li class="sidebar-sub-header"><a href="/langs/python/#定制个性化序列" class="sidebar-link">定制个性化序列</a></li><li class="sidebar-sub-header"><a href="/langs/python/#反射-实例类型判断" class="sidebar-link">反射，实例类型判断</a></li><li class="sidebar-sub-header"><a href="/langs/python/#可调用对象" class="sidebar-link">可调用对象</a></li><li class="sidebar-sub-header"><a href="/langs/python/#上下文管理" class="sidebar-link">上下文管理</a></li><li class="sidebar-sub-header"><a href="/langs/python/#描述器" class="sidebar-link">描述器</a></li><li class="sidebar-sub-header"><a href="/langs/python/#复制对象" class="sidebar-link">复制对象</a></li><li class="sidebar-sub-header"><a href="/langs/python/#pickle序列化对象" class="sidebar-link">Pickle序列化对象</a></li><li class="sidebar-sub-header"><a href="/langs/python/#其他" class="sidebar-link">其他</a></li></ul></li><li><a href="/langs/python/color-print.html" class="sidebar-link">Python彩色输出</a></li><li><a href="/langs/python/args.html" class="sidebar-link">python中的args和*kargs</a></li><li><a href="/langs/python/static-cls-method.html" class="sidebar-link">Python中的staticmethod和classmethod</a></li><li><a href="/langs/python/decorator.html" class="sidebar-link">Python中的装饰器</a></li><li><a href="/langs/python/strftime-ms.html" class="sidebar-link">Python中的时间</a></li><li><a href="/langs/python/collection.html" class="sidebar-link">python中的collections模块</a></li><li><a href="/langs/python/three-dot.html" class="sidebar-link">Python中的省略号...</a></li><li><a href="/langs/python/function-check.html" class="sidebar-link">Python中变量是否是函数</a></li><li><a href="/langs/python/yield.html" class="sidebar-link">Python中的yield</a></li><li><a href="/langs/python/keypoint.html" class="sidebar-link">Python中的易混淆点总结</a></li><li><a href="/langs/python/pprint.html" class="sidebar-link">优化Python的输出</a></li><li><a href="/langs/python/common-exception.html" class="sidebar-link">Python中常见问题</a></li><li><a href="/langs/python/pandas-error.html" class="sidebar-link">pandas read excel file error</a></li><li><a href="/langs/python/default-dict.html" class="sidebar-link">Python中的defaultdict</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Python包管理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/langs/python/pip-introduction.html" class="sidebar-link">PIP使用简介</a></li><li><a href="/langs/python/conda.html" class="sidebar-link">Conda常用指令</a></li><li><a href="/langs/python/pypi-dist.html" class="sidebar-link">发布Python包到pypi</a></li><li><a href="/langs/python/jupyter-remote.html" class="sidebar-link">jupyter配置远程访问</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>学习numpy</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/langs/python/numpy-meshgrid.html" class="sidebar-link">numpy中的meshgrid方法</a></li><li><a href="/langs/python/pil-exception.html" class="sidebar-link">PIL常见问题</a></li><li><a href="/langs/python/np-long.html" class="sidebar-link">module 'numpy' has no attribute 'long'</a></li><li><a href="/langs/python/np-where.html" class="sidebar-link">numpy.where的使用</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>学习PIL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/langs/python/PIL-error.html" class="sidebar-link">PIL Resize Image报错</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="魔术方法简介"><a href="#魔术方法简介" class="header-anchor">#</a> 魔术方法简介</h2> <p>Python 中的魔术方法(Magic)方法，是那些被<code>__</code>包围的方法，在对象继承时，子类可以重写父类的魔术方法以实现定制功能，用于增强Python面向对象编程的能力。魔术方法在创建对象或对象操作时自动调用，不需要显式使用。譬如当我们判断对象是否相等时只使用了<code>==</code>符号，并未显式调用<code>__eq__</code>方法，但却实现了判断两个实例是否相等的功能，犹如变魔法一般。魔术方法按功能可分为如下几类，</p> <ul><li>1.构造、初始化和析构对象</li> <li>2.控制属性读写</li> <li>3.对象的表示和描述，如<code>__str__</code>等</li> <li>4.在定制类对象间支持使用运算符号，如<code>+</code>,<code>-</code>,<code>*</code>,<code>/</code>,<code>//</code>,<code>==</code>,<code>&lt;=</code>等</li> <li>5.定义个性化序列</li> <li>6.反射</li> <li>7.可调用对象</li> <li>8.上下文管理</li> <li>9.描述器</li> <li>10.复制</li> <li>11.使对象支持<code>pickle</code>序列化反序列化</li></ul> <p>因不同的<code>PEP(Python Enhancement Proposal)</code>会不断添加删除魔术方法，故本文具有一定时效性。本文中涉及的魔术方法列表:</p> <table><thead><tr><th style="text-align:center;">序号</th> <th style="text-align:center;">方法</th> <th style="text-align:center;">序号</th> <th style="text-align:center;">方法</th></tr></thead> <tbody><tr><td style="text-align:center;">1</td> <td style="text-align:center;"><code>__init__</code></td> <td style="text-align:center;">42</td> <td style="text-align:center;"><code>__radd__</code></td></tr> <tr><td style="text-align:center;">2</td> <td style="text-align:center;"><code>__new__</code></td> <td style="text-align:center;">43</td> <td style="text-align:center;"><b><code>__iadd__</code></b></td></tr> <tr><td style="text-align:center;">3</td> <td style="text-align:center;"><code>__del__</code></td> <td style="text-align:center;">44</td> <td style="text-align:center;"><code>__int__</code></td></tr> <tr><td style="text-align:center;">4</td> <td style="text-align:center;"><b><code>__getattr__</code></b></td> <td style="text-align:center;">45</td> <td style="text-align:center;"><code>__float__</code></td></tr> <tr><td style="text-align:center;">5</td> <td style="text-align:center;"><b><code>__getattribute__</code></b></td> <td style="text-align:center;">46</td> <td style="text-align:center;"><code>__oct__</code></td></tr> <tr><td style="text-align:center;">6</td> <td style="text-align:center;"><b><code>__setattr__</code></b></td> <td style="text-align:center;">47</td> <td style="text-align:center;"><code>__hex__</code></td></tr> <tr><td style="text-align:center;">7</td> <td style="text-align:center;"><b><code>__delattr__</code></b></td> <td style="text-align:center;">48</td> <td style="text-align:center;"><code>__index__</code></td></tr> <tr><td style="text-align:center;">8</td> <td style="text-align:center;"><code>__str__</code></td> <td style="text-align:center;">49</td> <td style="text-align:center;"><code>__complex__</code></td></tr> <tr><td style="text-align:center;">9</td> <td style="text-align:center;"><code>__repr__</code></td> <td style="text-align:center;">50</td> <td style="text-align:center;"><b><code>__len__</code></b></td></tr> <tr><td style="text-align:center;">10</td> <td style="text-align:center;"><code>__format__</code></td> <td style="text-align:center;">51</td> <td style="text-align:center;"><b><code>__getitem__</code></b></td></tr> <tr><td style="text-align:center;">11</td> <td style="text-align:center;"><code>__hash__</code></td> <td style="text-align:center;">52</td> <td style="text-align:center;"><b><code>__setitem__</code></b></td></tr> <tr><td style="text-align:center;">12</td> <td style="text-align:center;"><code>__bool__</code></td> <td style="text-align:center;">53</td> <td style="text-align:center;"><b><code>__delitem__</code></b></td></tr> <tr><td style="text-align:center;">13</td> <td style="text-align:center;"><code>__dir__</code></td> <td style="text-align:center;">54</td> <td style="text-align:center;"><b><code>__iter__</code></b></td></tr> <tr><td style="text-align:center;">14</td> <td style="text-align:center;"><code>__sizeof__</code></td> <td style="text-align:center;">55</td> <td style="text-align:center;"><b><code>__reversed__</code></b></td></tr> <tr><td style="text-align:center;">15</td> <td style="text-align:center;"><b><code>__eq__</code></b></td> <td style="text-align:center;">56</td> <td style="text-align:center;"><b><code>__contains__</code></b></td></tr> <tr><td style="text-align:center;">16</td> <td style="text-align:center;"><b><code>__ne__</code></b></td> <td style="text-align:center;">57</td> <td style="text-align:center;"><b><code>__missing__</code></b></td></tr> <tr><td style="text-align:center;">17</td> <td style="text-align:center;"><b><code>__le__</code></b></td> <td style="text-align:center;">58</td> <td style="text-align:center;"><code>__instancecheck__</code></td></tr> <tr><td style="text-align:center;">18</td> <td style="text-align:center;"><b><code>__ge__</code></b></td> <td style="text-align:center;">59</td> <td style="text-align:center;"><code>__subclasscheck__</code></td></tr> <tr><td style="text-align:center;">19</td> <td style="text-align:center;"><b><code>__lt__</code></b></td> <td style="text-align:center;">60</td> <td style="text-align:center;"><b><code>__call__</code></b></td></tr> <tr><td style="text-align:center;">20</td> <td style="text-align:center;"><b><code>__gt__</code></b></td> <td style="text-align:center;">61</td> <td style="text-align:center;"><code>__enter__</code></td></tr> <tr><td style="text-align:center;">21</td> <td style="text-align:center;"><code>__pos__</code></td> <td style="text-align:center;">62</td> <td style="text-align:center;"><code>__exit__</code></td></tr> <tr><td style="text-align:center;">22</td> <td style="text-align:center;"><code>__neg__</code></td> <td style="text-align:center;">63</td> <td style="text-align:center;"><b><code>__get__</code></b></td></tr> <tr><td style="text-align:center;">23</td> <td style="text-align:center;"><code>__invert__</code></td> <td style="text-align:center;">64</td> <td style="text-align:center;"><b><code>__set__</code></b></td></tr> <tr><td style="text-align:center;">24</td> <td style="text-align:center;"><code>__round__</code></td> <td style="text-align:center;">65</td> <td style="text-align:center;"><b><code>__delete__</code></b></td></tr> <tr><td style="text-align:center;">25</td> <td style="text-align:center;"><code>__floor__</code></td> <td style="text-align:center;">66</td> <td style="text-align:center;"><code>__copy__</code></td></tr> <tr><td style="text-align:center;">26</td> <td style="text-align:center;"><code>__ceil__</code></td> <td style="text-align:center;">67</td> <td style="text-align:center;"><code>__deepcopy__</code></td></tr> <tr><td style="text-align:center;">27</td> <td style="text-align:center;"><code>__trunc__</code></td> <td style="text-align:center;">68</td> <td style="text-align:center;"><b><code>__getstate__</code></b></td></tr> <tr><td style="text-align:center;">28</td> <td style="text-align:center;"><b><code>__add__</code></b></td> <td style="text-align:center;">69</td> <td style="text-align:center;"><b><code>__setstate__</code></b></td></tr> <tr><td style="text-align:center;">29</td> <td style="text-align:center;"><b><code>__sub__</code></b></td> <td style="text-align:center;">70</td> <td style="text-align:center;"><code>__slots__</code></td></tr> <tr><td style="text-align:center;">30</td> <td style="text-align:center;"><b><code>__mul__</code></b></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">31</td> <td style="text-align:center;"><b><code>__matmul__</code></b></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">32</td> <td style="text-align:center;"><b><code>__truediv__</code></b></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">33</td> <td style="text-align:center;"><b><code>__floordiv__</code></b></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">34</td> <td style="text-align:center;"><b><code>__mod__</code></b></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">35</td> <td style="text-align:center;"><b><code>__divmod__</code></b></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">36</td> <td style="text-align:center;"><b><code>__pow__</code></b></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">37</td> <td style="text-align:center;"><b><code>__lshift__</code></b></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">38</td> <td style="text-align:center;"><b><code>__rshift__</code></b></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">39</td> <td style="text-align:center;"><b><code>__and__</code></b></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">40</td> <td style="text-align:center;"><b><code>__or__</code></b></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr> <tr><td style="text-align:center;">41</td> <td style="text-align:center;"><b><code>__xor__</code></b></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td></tr></tbody></table> <h2 id="用于对象构造析构的魔术方法"><a href="#用于对象构造析构的魔术方法" class="header-anchor">#</a> 用于对象构造析构的魔术方法</h2> <ul><li><code>__init__</code>:在定义<code>class</code>时使用最多的方法，用于初始化对象, 在创建对象时自动调用。</li> <li><code>__new__</code>:初始化对象时，在<code>__init__</code>之前调用的方法，该方法实现对象的构造，返回对象实例给<code>__init__</code>中的<code>self</code>。</li> <li><code>__del__</code>：<code>__del__</code>方法是定义类的析构函数，其并不是为了定义<code>del Object</code>时对象的行为，而是为了在对象被垃圾回收时执行特定的操作，如关闭<code>socket</code>,文件描述符等。因为当<code>Python</code>解释器退出时，对象有可能依然未被释放，因此<code>__del__</code>中定义册操作不一定能被执行，故在实际中应避免使用<code>__del__</code>。<br></li></ul> <p><strong>示例：</strong></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">World</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__new__ method called.&quot;</span><span class="token punctuation">)</span>
        inst <span class="token operator">=</span> <span class="token builtin">super</span><span class="token punctuation">(</span>World<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span>
        <span class="token keyword">return</span> inst
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> countries<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__init__ method called.&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>countrie <span class="token operator">=</span> countries
    <span class="token keyword">def</span> <span class="token function">__del__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Your World Is Cleaned Up.&quot;</span><span class="token punctuation">)</span>

w <span class="token operator">=</span> World<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
o <span class="token operator">=</span> World<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">del</span> o
<span class="token triple-quoted-string string">&quot;&quot;&quot;
Output:
# __new__ method called.
# __init__ method called.
# __new__ method called.
# __init__ method called.
# Your World Is Cleaned Up.
&quot;&quot;&quot;</span>
</code></pre></div><h2 id="用于控制属性读写的魔术方法"><a href="#用于控制属性读写的魔术方法" class="header-anchor">#</a> 用于控制属性读写的魔术方法</h2> <ul><li><code>__getattr__</code>:拦截通过<code>obj.key</code>获取对象不存在的<code>key</code>属性时调用的方法，注意与<code>__getattribute__</code>方法的区别，可实现懒加载，在调用属性时再去操作耗时的动作，如文件读取等。</li> <li><code>__getattribute__</code>：拦截所有的属性访问，注意避免在此方法中使用<code>self.key</code>，以免造成死循环</li> <li><code>__setattr__</code>:拦截所有属性的赋值操作，注意避免在此方法中通过<code>self.key=value</code>的方式给实例赋值，以免造成死循环。</li> <li><code>__delattr__</code>:拦截所有属性的清除操作，注意避免在此方法中通过<code>del self.key</code>的方式清除实例属性，以免造成死循环。<br> <br><br> <strong>示例：</strong></li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">World</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> countries<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>countries <span class="token operator">=</span> countries
    
    <span class="token keyword">def</span> <span class="token function">__getattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;__getattr__ called: unexisted key </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">None</span>
    
    <span class="token keyword">def</span> <span class="token function">__getattribute__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;__getattribute__ called: key </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span>World<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__getattribute__<span class="token punctuation">(</span>key<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__setattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> key <span class="token keyword">in</span> self<span class="token punctuation">.</span>__dict__<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;__setattr__ called: key existed </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;__setattr__ called: key unexisted </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>__dict__<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
    
    <span class="token keyword">def</span> <span class="token function">__delattr__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;__delattr__ called: key </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">del</span> self<span class="token punctuation">.</span>__dict__<span class="token punctuation">[</span>key<span class="token punctuation">]</span>

w <span class="token operator">=</span> World<span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span>
w<span class="token punctuation">.</span>oceans <span class="token operator">=</span> <span class="token number">5</span>
<span class="token keyword">del</span> w<span class="token punctuation">.</span>countries
<span class="token triple-quoted-string string">&quot;&quot;&quot;
Output:
# __getattribute__ called: key __dict__
#__setattr__ called: key unexisted countries
# __getattribute__ called: key __dict__

# __getattribute__ called: key __dict__
# __setattr__ called: key unexisted oceans
# __getattribute__ called: key __dict__

# __delattr__ called: key countries
# __getattribute__ called: key __dict__
&quot;&quot;&quot;</span>

</code></pre></div><h2 id="对象的表示和描述"><a href="#对象的表示和描述" class="header-anchor">#</a> 对象的表示和描述</h2> <ul><li><p><code>__str__</code>：使得可通过<code>str()</code>方法获取对象的可读信息,__str__输出的应该是用户关注的容易理解的信息，因此对那些负责与客户交互的类，至少更应该重写__str__方法。</p></li> <li><p><code>__repr__</code>:使得可通过<code>repr()</code>方法获取对象的详细信息，包括存储地址等，<code>__str__</code>中的信息是<code>__repr__</code>中的一部分。<code>stackoverflow</code>上有个回答。<a href="https://stackoverflow.com/questions/1436703/what-is-the-difference-between-str-and-repr" target="_blank" rel="noopener noreferrer">1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，<code>__str__</code>是面向普通用户的信息，<code>__repr__</code>是面向开发者的信息，倒也形象。如果开发者要输出开发人员足够知悉的属性，就需要重写该方法。<br>
重写__repr__方法注意：__repr__方法是实例方法，因此带一个参数self，也只能带这个参数；<br>
输出的信息尽可能满足开发者的要求，信息必须详尽和准确。</p></li> <li><p><code>__format__</code>:定义通过&quot;prefix {:code}&quot;.format(obj)时实例输出的形式，<code>code</code>是<code>__format__</code>的参数，用来确定以哪种格式<code>format</code>,<strong>定制数值或字符串类型时常希望重写此方法</strong></p></li> <li><p><code>__hash__</code>:定义<code>hash</code>对象实例的返回值，需要为1个整数，默认的<code>hash</code>方法根据对象的地址和属性值算出来int类型整数为对象的<code>hash</code>值。一个对象在其生命周期内，如果保持不变，就是<code>hashable</code>（可哈希的）。像<code>int</code>,<code>string</code>是可哈希的，<code>dict</code>,<code>list</code>等是不可哈希的。哈希性使得对象可以用作<code>dictionary</code>键和<code>set</code>成员，因为这些数据结构在内部使用了哈希值。<strong>如果要判断 <code>item in set</code>为<code>True</code>,则<code>item==set中的一个元素</code>且<code>hash(item)==hash(set中的一个元素)</code></strong>。</p></li> <li><p><code>__bool__</code>:调用<code>bool()</code>方法时对象的返回值，需为<code>True/False</code>。</p></li> <li><p><code>__dir__</code>：调用<code>dir()</code>方法时对象的返回值，一般不需要重写该方法，但在定义<code>__getattr__</code>时有可能需要重写，以打印动态添加的属性。</p></li> <li><p><code>__sizeof__</code>:定义<code>sys.getsizeof()</code> 方法调用时的返回，指类的实例的大小，单位是字节，在使用<code>C</code>扩展编写<code>Python</code>类时比较有用。<br><br> <strong>示例：</strong></p></li></ul> <div class="language-python extra-class"><pre class="language-python"><code>formats <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;long&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;Country Has {c.provinces} Provinces&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;short&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;C H {c.provinces} P&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Country</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> provinces<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>provinces <span class="token operator">=</span> provinces
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;Country has </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>provinces<span class="token punctuation">}</span></span><span class="token string"> provinces&quot;</span></span>
    <span class="token keyword">def</span> <span class="token function">__repr__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        s<span class="token operator">=</span><span class="token string">&quot;In __repr__:\n&lt;{} object at {:#016x}&gt;\n&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__class__<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token punctuation">)</span>
        s<span class="token operator">+=</span><span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__repr__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        s<span class="token operator">+=</span><span class="token string">&quot;\n&quot;</span>
        s<span class="token operator">+=</span><span class="token builtin">repr</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span>
        <span class="token keyword">return</span> s
    <span class="token keyword">def</span> <span class="token function">__format__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> code<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> formats<span class="token punctuation">[</span>code<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>c<span class="token operator">=</span>self<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__eq__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>provinces <span class="token operator">==</span> obj<span class="token punctuation">.</span>provinces
    
    <span class="token keyword">def</span> <span class="token function">__hash__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">12</span>
        <span class="token comment">#return hash(self.name)</span>
    <span class="token keyword">def</span> <span class="token function">__bool__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">&quot;Hunan&quot;</span>
    <span class="token keyword">def</span> <span class="token function">__dir__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        l <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__dict__<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        l<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">&quot;GDP&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> l
    <span class="token keyword">def</span> <span class="token function">__sizeof__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__sizeof__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__dict__<span class="token punctuation">)</span>
c <span class="token operator">=</span> Country<span class="token punctuation">(</span><span class="token number">264</span><span class="token punctuation">,</span> <span class="token string">&quot;Hunan&quot;</span><span class="token punctuation">)</span>
d <span class="token operator">=</span> Country<span class="token punctuation">(</span><span class="token number">264</span><span class="token punctuation">,</span> <span class="token string">&quot;Henan&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hash</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hash</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c <span class="token operator">==</span> d<span class="token punctuation">)</span>
s <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span>add<span class="token punctuation">(</span>c<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d <span class="token keyword">in</span> s<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">bool</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">import</span> sys
<span class="token keyword">print</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>getsizeof<span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="在定制类对象间支持使用运算符号"><a href="#在定制类对象间支持使用运算符号" class="header-anchor">#</a> 在定制类对象间支持使用运算符号</h2> <h3 id="支持比较运算符号"><a href="#支持比较运算符号" class="header-anchor">#</a> 支持比较运算符号</h3> <ul><li><code>__eq__(self, obj)</code>:支持<code>==</code></li> <li><code>__ne__(self, obj)</code>:支持<code>==</code></li> <li><code>__le__(self, obj)</code>:支持<code>&lt;=</code></li> <li><code>__ge__(self, obj)</code>:支持<code>&gt;=</code></li> <li><code>__lt__(self, obj)</code>:支持<code>&lt;</code></li> <li><code>__gt__(self, obj)</code>:支持<code>&gt;</code><br><br> <strong>示例：</strong></li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Point3D</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y
        self<span class="token punctuation">.</span>z <span class="token operator">=</span> z
        
    <span class="token keyword">def</span> <span class="token function">__square_sum</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">:</span>Point3D<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token builtin">getattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">for</span> k <span class="token keyword">in</span> obj<span class="token punctuation">.</span>__dict__<span class="token punctuation">]</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__eq__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;equal called&quot;</span><span class="token punctuation">)</span>
        d1 <span class="token operator">=</span> self<span class="token punctuation">.</span>__square_sum<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        d2 <span class="token operator">=</span> self<span class="token punctuation">.</span>__square_sum<span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
        <span class="token keyword">return</span> d1 <span class="token operator">==</span> d2
    
    <span class="token keyword">def</span> <span class="token function">__ne__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;not equal called&quot;</span><span class="token punctuation">)</span>
        d1 <span class="token operator">=</span> self<span class="token punctuation">.</span>__square_sum<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        d2 <span class="token operator">=</span> self<span class="token punctuation">.</span>__square_sum<span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
        <span class="token keyword">return</span> d1 <span class="token operator">!=</span> d2

    <span class="token keyword">def</span> <span class="token function">__le__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;not equal called&quot;</span><span class="token punctuation">)</span>
        d1 <span class="token operator">=</span> self<span class="token punctuation">.</span>__square_sum<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        d2 <span class="token operator">=</span> self<span class="token punctuation">.</span>__square_sum<span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
        <span class="token keyword">return</span> d1 <span class="token operator">&lt;=</span> d2
    
    <span class="token keyword">def</span> <span class="token function">__ge__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;not equal called&quot;</span><span class="token punctuation">)</span>
        d1 <span class="token operator">=</span> self<span class="token punctuation">.</span>__square_sum<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        d2 <span class="token operator">=</span> self<span class="token punctuation">.</span>__square_sum<span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
        <span class="token keyword">return</span> d1 <span class="token operator">&gt;=</span> d2
    
    
    <span class="token keyword">def</span> <span class="token function">__lt__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;less than called&quot;</span><span class="token punctuation">)</span>
        d1 <span class="token operator">=</span> self<span class="token punctuation">.</span>__square_sum<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        d2 <span class="token operator">=</span> self<span class="token punctuation">.</span>__square_sum<span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
        <span class="token keyword">return</span> d1 <span class="token operator">&lt;</span> d2
    
    <span class="token keyword">def</span> <span class="token function">__gt__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;great than called&quot;</span><span class="token punctuation">)</span>
        d1 <span class="token operator">=</span> self<span class="token punctuation">.</span>__square_sum<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        d2 <span class="token operator">=</span> self<span class="token punctuation">.</span>__square_sum<span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
        <span class="token keyword">return</span> d1 <span class="token operator">&gt;</span> d2      
p1 <span class="token operator">=</span> Point3D<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
p2 <span class="token operator">=</span> Point3D<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">==</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">!=</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">&lt;=</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">&gt;=</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">&gt;</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">&lt;</span> p2<span class="token punctuation">)</span>
</code></pre></div><h3 id="支持一元运算符"><a href="#支持一元运算符" class="header-anchor">#</a> 支持一元运算符</h3> <ul><li><code>__pos__</code>：支持<code>+</code>,大多数情况下<code>+x</code>依然是<code>x</code>,一元运算符<code>+</code>没有执行任何操作，如<code>+(-1)</code>还是<code>-1</code>，在<code>__pos__</code>中可以定义<code>+</code>的操作。</li> <li><code>__neg__</code>:支持<code>-</code>运算符</li> <li><code>__invert__</code>:<code>~</code>符号的逻辑</li> <li><code>__abs__</code>:定制<code>abs()</code>方法调用时的逻辑</li> <li><code>__round__</code>：<code>round()</code>方法调用时的逻辑</li> <li><code>__floor__</code>：定制<code>math.floor()</code>方法调用时的逻辑,譬如向下取整</li> <li><code>__ceil__</code>：定制<code>math.ceil()</code>方法调用时的逻辑,譬如向上取整</li> <li><code>__trunc__</code>:定制<code>math.trunc()</code>方法调用时的逻辑<br><br> <strong>示例</strong></li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">MyNum</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
    
    <span class="token keyword">def</span> <span class="token function">__pos__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__neg__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token operator">-</span>self<span class="token punctuation">.</span>x
    
    <span class="token keyword">def</span> <span class="token function">__abs__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">pow</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__invert__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">if</span> self<span class="token punctuation">.</span>x <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token number">1</span>

    <span class="token keyword">def</span> <span class="token function">__round__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>n<span class="token punctuation">}</span></span><span class="token string"> digits after point would be remained.&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token number">1</span> <span class="token keyword">if</span> self<span class="token punctuation">.</span>x <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token number">0</span>

    <span class="token keyword">def</span> <span class="token function">__floor__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">1</span>
    
    <span class="token keyword">def</span> <span class="token function">__ceil__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token number">1</span>
    
    <span class="token keyword">def</span> <span class="token function">__trunc__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>x <span class="token operator">//</span> <span class="token number">10</span>
a <span class="token operator">=</span> MyNum<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">12</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">+</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">~</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">-</span>a<span class="token punctuation">)</span>
<span class="token builtin">round</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="支持算术运算符"><a href="#支持算术运算符" class="header-anchor">#</a> 支持算术运算符</h3> <ul><li><code>__add__</code>: 支持<code>+</code></li> <li><code>__sub__</code>:支持<code>-</code></li> <li><code>__mul__</code>:支持<code>*</code></li> <li><code>__matmul__</code>:支持<code>@</code>，矩阵乘法，<code>Python3.5</code>后引入的新特性，支持<code>numpy</code>数组表示的矩阵乘法</li> <li><code>__truediv__</code>:支持<code>/</code>, <code>__div__</code>是<code>Python2中的属性</code>，<code>Python3</code>中用<code>__truediv__</code></li> <li><code>__floordiv__</code>: 支持<code>//</code></li> <li><code>__mod__</code>:支持<code>%</code>，取余</li> <li><code>__divmod__</code>:支持<code>divmod()</code>方法，返回<code>tuple(x//y,x%y)</code></li> <li><code>__pow__</code>:支持<code>**</code></li> <li><code>__lshift__</code>:支持左移位<code>&lt;&lt;</code></li> <li><code>__rshift__</code>:支持右移位<code>&gt;&gt;</code></li> <li><code>__and__</code>:支持<code>&amp;</code>,按位与</li> <li><code>__or__</code>:支持<code>|</code>，按位或</li> <li><code>__xor__</code>:支持<code>^</code>,按位异或<br><br> <strong>示例：</strong></li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Point2D</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y
    
    <span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__add__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">+</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">+</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__sub__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__sub__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">-</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">-</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__mul__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__mul__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">*</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">*</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__matmul__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__matmul__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> @ np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>y<span class="token punctuation">,</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__floordiv__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__floordiv__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">//</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">//</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__truediv__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__div__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">/</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">/</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__mod__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__mod__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">%</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">%</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__divmod__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__divmod__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token builtin">divmod</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">divmod</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>y<span class="token punctuation">,</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__pow__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__pow__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">**</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">**</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__lshift__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__lshift__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">&lt;&lt;</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">&lt;&lt;</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__rshift__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__rshift__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">&gt;&gt;</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">&gt;&gt;</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__and__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__and__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">&amp;</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">&amp;</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>    
    
    <span class="token keyword">def</span> <span class="token function">__or__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__or__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">|</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">|</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__xor__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__xor__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">^</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">^</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>

p1 <span class="token operator">=</span> Point2D<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span>
p2 <span class="token operator">=</span> Point2D<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">+</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">-</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">*</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 @ p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">/</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">//</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">%</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">divmod</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">**</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">&lt;&lt;</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">&gt;&gt;</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">&amp;</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">|</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">^</span> p2<span class="token punctuation">)</span>
</code></pre></div><h3 id="反射算术运算符"><a href="#反射算术运算符" class="header-anchor">#</a> 反射算术运算符</h3> <p><code>2.4.3</code>中的是常规算术运算符，<code>a+b</code>或者<code>b+a</code>都可以进行运算，反射运算符指如<code>a+b</code>时，<code>a</code>中没有定义需调用<code>b</code>的运算方法实现运算的运算符。如<code>__radd__</code>,则要执行此方法<code>a</code>中需没有实现<code>__add__</code>和<code>__radd__</code>方法，才会去调用<code>b</code>中对应的<code>r方法</code><a href="https://docs.python.org/3/reference/datamodel.html" target="_blank" rel="noopener noreferrer">3<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><br> <strong>示例</strong></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Point2DA</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y
        
<span class="token keyword">class</span> <span class="token class-name">Point2DB</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y    
        
    <span class="token keyword">def</span> <span class="token function">__radd__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__radd__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">+</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">+</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__rsub__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__rsub__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">-</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">-</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__rmul__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__rmul__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">*</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">*</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__rmatmul__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__rmatmul__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> @ np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>y<span class="token punctuation">,</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__rfloordiv__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__rfloordiv__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">//</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">//</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__rtruediv__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__rtruediv__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">/</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">/</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__rmod__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__rmod__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">%</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">%</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__rpow__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__rpow__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">**</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">**</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__rlshift__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__rlshift__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">&lt;&lt;</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">&lt;&lt;</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__rrshift__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__rrshift__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">&gt;&gt;</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">&gt;&gt;</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__rand__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__rand__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">&amp;</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">&amp;</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>    
    
    <span class="token keyword">def</span> <span class="token function">__ror__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__ror__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">|</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">|</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__rxor__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__rxor__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">^</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">^</span> obj<span class="token punctuation">.</span>y<span class="token punctuation">)</span>

p1 <span class="token operator">=</span> Point2DA<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
p2 <span class="token operator">=</span> Point2DB<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">+</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">-</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">*</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 @ p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">/</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">//</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">%</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">**</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">&lt;&lt;</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">&gt;&gt;</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">&amp;</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">|</span> p2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>p1 <span class="token operator">^</span> p2<span class="token punctuation">)</span>
</code></pre></div><h3 id="自增算术运算符"><a href="#自增算术运算符" class="header-anchor">#</a> 自增算术运算符</h3> <p>自增运算符：执行相应运算，并将结果赋予左值，如<code>a+=b</code>。<br><br> <strong>示例</strong></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Point2D</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> y
        
    <span class="token keyword">def</span> <span class="token function">__iadd__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__iadd__ called&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>x <span class="token operator">+=</span> other<span class="token punctuation">.</span>x
        self<span class="token punctuation">.</span>y <span class="token operator">+=</span> other<span class="token punctuation">.</span>y
        <span class="token keyword">return</span> self
    
    <span class="token keyword">def</span> <span class="token function">__isub__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__isub__ called&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>x <span class="token operator">-=</span> other<span class="token punctuation">.</span>x
        self<span class="token punctuation">.</span>y <span class="token operator">-=</span> other<span class="token punctuation">.</span>y
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__imul__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__imul__ called&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>x <span class="token operator">*=</span> other<span class="token punctuation">.</span>x
        self<span class="token punctuation">.</span>y <span class="token operator">*=</span> other<span class="token punctuation">.</span>y
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__imatmul__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__imatmul__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
        v <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> other<span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> @ np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>y<span class="token punctuation">,</span> other<span class="token punctuation">.</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> v
        self<span class="token punctuation">.</span>y <span class="token operator">=</span> v
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__itruediv__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__itruediv__ called&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>x <span class="token operator">/=</span> other<span class="token punctuation">.</span>x
        self<span class="token punctuation">.</span>y <span class="token operator">/=</span> other<span class="token punctuation">.</span>y
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__ifloordiv__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__ifloordiv__ called&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>x <span class="token operator">//=</span> other<span class="token punctuation">.</span>x
        self<span class="token punctuation">.</span>y <span class="token operator">//=</span> other<span class="token punctuation">.</span>y
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__imod__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__imod__ called&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>x <span class="token operator">%=</span> other<span class="token punctuation">.</span>x
        self<span class="token punctuation">.</span>y <span class="token operator">%=</span> other<span class="token punctuation">.</span>y
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__ipow__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__ipow__ called&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>x <span class="token operator">**=</span> other<span class="token punctuation">.</span>x
        self<span class="token punctuation">.</span>y <span class="token operator">**=</span> other<span class="token punctuation">.</span>y
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__ilshift__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__ilshift__ called&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>x <span class="token operator">&lt;&lt;</span><span class="token operator">=</span> other<span class="token punctuation">.</span>x
        self<span class="token punctuation">.</span>y <span class="token operator">&lt;&lt;</span><span class="token operator">=</span> other<span class="token punctuation">.</span>y
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__irshift__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__irshift__ called&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>x <span class="token operator">&gt;&gt;</span><span class="token operator">=</span> other<span class="token punctuation">.</span>x
        self<span class="token punctuation">.</span>y <span class="token operator">&gt;&gt;</span><span class="token operator">=</span> other<span class="token punctuation">.</span>y
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__iand__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__iand__ called&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>x <span class="token operator">&amp;</span><span class="token operator">=</span> other<span class="token punctuation">.</span>x
        self<span class="token punctuation">.</span>y <span class="token operator">&amp;</span><span class="token operator">=</span> other<span class="token punctuation">.</span>y
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__ixor__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__ixor__ called&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>x <span class="token operator">|</span><span class="token operator">=</span> other<span class="token punctuation">.</span>x
        self<span class="token punctuation">.</span>y <span class="token operator">|</span><span class="token operator">=</span> other<span class="token punctuation">.</span>y
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__ior__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__ior__ called&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>x <span class="token operator">^</span><span class="token operator">=</span> other<span class="token punctuation">.</span>x
        self<span class="token punctuation">.</span>y <span class="token operator">^</span><span class="token operator">=</span> other<span class="token punctuation">.</span>y
        <span class="token keyword">return</span> self

p1 <span class="token operator">=</span> Point2D<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
p2 <span class="token operator">=</span> Point2D<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>

p1 <span class="token operator">+=</span> p2
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
p1 <span class="token operator">-=</span> p2
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
p1 <span class="token operator">*=</span> p2
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
p1 @<span class="token operator">=</span> p2
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
p1 <span class="token operator">/=</span> p2
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
p1 <span class="token operator">=</span> p2
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
p1 <span class="token operator">//=</span> p2
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
p1 <span class="token operator">%=</span> p2
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
p1 <span class="token operator">**=</span> p2
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
p1 <span class="token operator">&lt;&lt;</span><span class="token operator">=</span> p2
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
p1 <span class="token operator">&gt;&gt;</span><span class="token operator">=</span> p2
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
p1 <span class="token operator">&amp;</span><span class="token operator">=</span> p2
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
p1 <span class="token operator">|</span><span class="token operator">=</span> p2
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
p1 <span class="token operator">^</span><span class="token operator">=</span> p2
<span class="token keyword">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
</code></pre></div><h3 id="支持类型转换运算符"><a href="#支持类型转换运算符" class="header-anchor">#</a> 支持类型转换运算符</h3> <ul><li><code>__int__</code>:支持<code>int()</code></li> <li><code>__float__</code>:支持<code>float()</code></li> <li><code>__oct__</code>:支持<code>oct()</code></li> <li><code>__hex__</code>:支持<code>hex()</code></li> <li><code>__index__</code>:返回1个整数，支持作为<code>list</code>下标</li> <li><code>__complex__</code>:支持<code>complex()</code>函数<br><br> <strong>示例</strong></li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">MyNum</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
        
    <span class="token keyword">def</span> <span class="token function">__int__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__int__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__float__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__float__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">float</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__oct__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__oct__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">oct</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__hex__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__hex__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">hex</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__index__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__index__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__complex__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__complex__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">complex</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>x<span class="token punctuation">)</span>

n <span class="token operator">=</span> MyNum<span class="token punctuation">(</span><span class="token number">1.2</span><span class="token punctuation">)</span>
m <span class="token operator">=</span> MyNum<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">float</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">oct</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hex</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">complex</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="定制个性化序列"><a href="#定制个性化序列" class="header-anchor">#</a> 定制个性化序列</h2> <p>定义一个不可变容器，只需要实现<code>__len__</code>和<code>__getitem__</code>,可变容器在此基础上还需实现<code>__setitem__</code>和<code>__delitem__</code>,如果希望容器是可迭代的，还需实现<code>__iter__</code>方法。</p> <ul><li><code>__len__</code>:返回序列的长度，支持<code>len()</code></li> <li><code>__getitem__</code>:支持<code>self[key]</code></li> <li><code>__setitem__</code>:支持<code>self[key]=value</code></li> <li><code>__delitem__</code>:支持<code>del self[key]</code></li> <li><code>__iter__</code>:支持<code>for item in self</code></li> <li><code>__reversed__</code>:支持<code>reversed()</code>方法</li> <li><code>__contains__</code>:支持<code>in</code>判断</li> <li><code>__missing__</code>:当定制序列是<code>dict</code>的子类时，使用<code>dict[key]</code>读取元素而<code>key</code>没有定义时调用。<br><br> <strong>示例：</strong></li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">FunctionalList</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> values<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> values <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>values <span class="token operator">=</span> values

    <span class="token keyword">def</span> <span class="token function">__len__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>values<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__getitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># if key is of invalid type or value, the list values will raise the error</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>values<span class="token punctuation">[</span>key<span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">__setitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>values<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value

    <span class="token keyword">def</span> <span class="token function">__delitem__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">del</span> self<span class="token punctuation">.</span>values<span class="token punctuation">[</span>key<span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>values<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__reversed__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">reversed</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>values<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__contains__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__contains__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span> <span class="token keyword">if</span> val <span class="token keyword">in</span> self<span class="token punctuation">.</span>values <span class="token keyword">else</span> <span class="token boolean">False</span>
    
    <span class="token keyword">def</span> <span class="token function">append</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>values<span class="token punctuation">.</span>append<span class="token punctuation">(</span>value<span class="token punctuation">)</span>    
    <span class="token keyword">def</span> <span class="token function">head</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># get the first element</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>values<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">def</span> <span class="token function">tail</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># get all elements after the first</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>values<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
    <span class="token keyword">def</span> <span class="token function">init</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># get elements up to the last</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>values<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">def</span> <span class="token function">last</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># get last element</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>values<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">def</span> <span class="token function">drop</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># get all elements except first n</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>values<span class="token punctuation">[</span>n<span class="token punctuation">:</span><span class="token punctuation">]</span>
    <span class="token keyword">def</span> <span class="token function">take</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># get first n elements</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>values<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span>
    
l <span class="token operator">=</span> FunctionalList<span class="token punctuation">(</span><span class="token punctuation">)</span>
l<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
l<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
l<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> l<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token keyword">del</span> l<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token keyword">in</span> l<span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> l<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>l<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
l <span class="token operator">=</span> <span class="token builtin">reversed</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> l<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
</code></pre></div><h2 id="反射-实例类型判断"><a href="#反射-实例类型判断" class="header-anchor">#</a> 反射，实例类型判断</h2> <ul><li><code>__instancecheck__</code>:支持<code>instancecheck</code>方法</li> <li><code>__subclasscheck__</code>:支持<code>subclasscheck</code>方法，此两个方法需定义在元类中，否则调用的还是<code>type</code>中的方法<a href="https://www.cnblogs.com/traditional/p/11731676.html" target="_blank" rel="noopener noreferrer">4<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><strong>示例</strong></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">MyType</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__instancecheck__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> instance<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__instancecheck__ called&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token comment"># 否则返回False</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>


<span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">(</span>metaclass<span class="token operator">=</span>MyType<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
    
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> A<span class="token punctuation">)</span><span class="token punctuation">)</span>  

<span class="token keyword">class</span> <span class="token class-name">MyType</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__subclasscheck__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> subclass<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__subclasscheck__ called.&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>subclass<span class="token punctuation">,</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>metaclass<span class="token operator">=</span>MyType<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

b <span class="token operator">=</span> B<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">issubclass</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">)</span>  
b <span class="token operator">=</span> B<span class="token punctuation">(</span><span class="token punctuation">)</span>
b<span class="token punctuation">.</span>password <span class="token operator">=</span> <span class="token string">&quot;12&quot;</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">issubclass</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">)</span>  
</code></pre></div><h2 id="可调用对象"><a href="#可调用对象" class="header-anchor">#</a> 可调用对象</h2> <ul><li><code>__call__</code>:对象像函数一样可调用<br><br> <strong>示例</strong></li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Entity</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> size<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y <span class="token operator">=</span> x<span class="token punctuation">,</span> y
        self<span class="token punctuation">.</span>size <span class="token operator">=</span> size

    <span class="token keyword">def</span> <span class="token function">__call__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>x<span class="token operator">*</span>self<span class="token punctuation">.</span>y <span class="token operator">+</span> s
e <span class="token operator">=</span> Entity<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="上下文管理"><a href="#上下文管理" class="header-anchor">#</a> 上下文管理</h2> <p><code>python</code>中使用<code>with</code>语句执行上下文管理，处理内存块被创建时和内存块执行结束时上下文应该执行的操作，上下文即程序执行操作的环境，包括异常处理，文件开闭。有两个魔术方法负责处理上下文管理。</p> <ul><li><code>__enter__</code>:上下文创建时执行的操作,该方法返回<code>as</code>后面的对象。</li> <li><code>__exit__</code>：上下文结束时执行的操作</li></ul> <p><strong>示例</strong></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Closer</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''A context manager to automatically close an object with a close method
    in a with statement.'''</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>obj <span class="token operator">=</span> obj

    <span class="token keyword">def</span> <span class="token function">__enter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__enter__ called'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>obj <span class="token comment"># bound to target</span>

    <span class="token keyword">def</span> <span class="token function">__exit__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> exception_type<span class="token punctuation">,</span> exception_val<span class="token punctuation">,</span> trace<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'__exit__ called'</span><span class="token punctuation">)</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            
           self<span class="token punctuation">.</span>obj<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> AttributeError<span class="token punctuation">:</span>
           <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Not closable. here'</span><span class="token punctuation">)</span>
           <span class="token keyword">return</span> <span class="token boolean">True</span>

<span class="token keyword">with</span> Closer<span class="token punctuation">(</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;1.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="描述器"><a href="#描述器" class="header-anchor">#</a> 描述器</h2> <ul><li><p>描述器让对象能够自定义属性查找、存储和删除的操作。描述器是任何一个定义了 <code>__get__()</code>，<code>__set__()</code> 或<code>__delete__()</code> 的对象。描述器的主要目的是提供一个挂 钩，允许存储在类变量中的对象控制在属性查找期间发生的情况。<a href="https://docs.python.org/zh-cn/3/howto/descriptor.html#closing-thoughts" target="_blank" rel="noopener noreferrer">5<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。 类似于<code>Java</code>类中的<code>getters\setters</code><a href="https://stackoverflow.com/questions/3798835/understanding-get-and-set-and-python-descriptors" target="_blank" rel="noopener noreferrer">6<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。常用于动态查找，属性托管，定制名称，自定义验证等。</p></li> <li><p><code>__get__</code>:查找属性时调用</p></li> <li><p><code>__set__</code>:给属性赋值时调用</p></li> <li><p><code>__delete__</code>:移除属性时调用</p></li></ul> <p><strong>示例：</strong></p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> logging
logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span>level<span class="token operator">=</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">)</span> 
<span class="token keyword">class</span> <span class="token class-name">LoggedAgeAccess</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__get__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> objtype<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 
        value <span class="token operator">=</span> obj<span class="token punctuation">.</span>_age logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'Accessing %r giving %r'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
        <span class="token keyword">return</span> value
    <span class="token keyword">def</span> <span class="token function">__set__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span> 
        logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'Updating %r to %r'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span> 
        obj<span class="token punctuation">.</span>_age <span class="token operator">=</span> value

        
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span> 
    age <span class="token operator">=</span> LoggedAgeAccess<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># Descriptor instance</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span> 
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
                            <span class="token comment"># Regular instance attribute # Calls __set__()__set__()</span>
    <span class="token keyword">def</span> <span class="token function">birthday</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> 
        self<span class="token punctuation">.</span>age <span class="token operator">+=</span> <span class="token number">1</span>
</code></pre></div><h2 id="复制对象"><a href="#复制对象" class="header-anchor">#</a> 复制对象</h2> <ul><li><code>__copy__</code>:执行<code>copy.copy()</code>时调用</li> <li><code>__deepcopy__</code>:执行<code>copy.deepcopy()</code>时调用，见<a href="https://stackoverflow.com/questions/1500718/how-to-override-the-copy-deepcopy-operations-for-a-python-object" target="_blank" rel="noopener noreferrer">7<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Obj</span><span class="token punctuation">:</span> 
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span> 
        self<span class="token punctuation">.</span>x <span class="token operator">=</span> x
    <span class="token keyword">def</span> <span class="token function">__copy__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> 
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__copy__ called&quot;</span><span class="token punctuation">)</span> 
        <span class="token keyword">return</span> self
    <span class="token keyword">def</span> <span class="token function">__deepcopy__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">:</span> 
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__deepcopy__ called&quot;</span><span class="token punctuation">)</span>     
        <span class="token keyword">return</span> self
</code></pre></div><h2 id="pickle序列化对象"><a href="#pickle序列化对象" class="header-anchor">#</a> Pickle序列化对象</h2> <p><code>pickle</code> 是一种Python特有的自描述的数据编码。 通过自描述，被序列化后的数据包含每个对象 开始和结束以及它的类型信息。<a href="https://python3-cookbook.readthedocs.io/zh_CN/latest/c05/p21_serializing_python_objects.html" target="_blank" rel="noopener noreferrer">8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。些类型的对象是不能被序列化的。这些通常是那些依赖外部系统状态的对象， 比如打开的文 件，网络连接，线程，进程，栈帧等等。 用户自定义类可以通过提供 <code>__getstate__()</code> 和 <code>__setstate__()</code> 方法来绕过这些限制。</p> <ul><li><code>__getstate__</code>:序列化对象时调用</li> <li><code>__setstate__</code>:反序列化时被调用<br> <strong>示例：</strong></li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> threading 
<span class="token keyword">import</span> time
<span class="token keyword">class</span> <span class="token class-name">Obj</span><span class="token punctuation">:</span> 
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span> 
        self<span class="token punctuation">.</span>n <span class="token operator">=</span> n
        self<span class="token punctuation">.</span>thread <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>self<span class="token punctuation">.</span>run<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> 
        <span class="token keyword">while</span> self<span class="token punctuation">.</span>n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span> 
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;current value: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>n<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span> 
            self<span class="token punctuation">.</span>n <span class="token operator">-</span> <span class="token number">1</span>
            

o <span class="token operator">=</span> Obj<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># Obj不支持序列化，会报错 </span>
<span class="token comment"># import pickle </span>
<span class="token comment"># d = pickle.dumps(o) </span>
<span class="token comment"># no = pickle.loads(d) </span>
<span class="token comment"># print(no.n)</span>


<span class="token keyword">class</span> <span class="token class-name">PickelObj</span><span class="token punctuation">:</span> 
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span> 
        self<span class="token punctuation">.</span>n <span class="token operator">=</span> n 
        self<span class="token punctuation">.</span>n_bak <span class="token operator">=</span> n
        self<span class="token punctuation">.</span>thread <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>self<span class="token punctuation">.</span>run<span class="token punctuation">)</span> 
        self<span class="token punctuation">.</span>thread<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> 
        <span class="token keyword">while</span> self<span class="token punctuation">.</span>n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span> 
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;current value: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>n<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span> 
            self<span class="token punctuation">.</span>n <span class="token operator">-=</span> <span class="token number">1</span> time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">__getstate__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> 
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__getstate__ called&quot;</span><span class="token punctuation">)</span> 
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>n_bak
    
    <span class="token keyword">def</span> <span class="token function">__setstate__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span> 
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;__setstate__ called&quot;</span><span class="token punctuation">)</span> 
        self<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
        
        
o <span class="token operator">=</span> PickelObj<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> 
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> 
<span class="token keyword">import</span> pickle
d <span class="token operator">=</span> pickle<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>o<span class="token punctuation">)</span> 
no <span class="token operator">=</span> pickle<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>d<span class="token punctuation">)</span>
</code></pre></div><h2 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h2> <ul><li><code>__slots__</code>,<code>Python</code>是动态语言，可以给实例或类动态绑定方法和属性，如果我们想要限制 实例的属性怎么办？比如，只允许对Student实例添加name和age属性。为了达到限制的目的， Python允许在定义class的时候，定义一个特殊的__slots__变量，来限制该class实例能添加的属 性。<a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017501655757856" target="_blank" rel="noopener noreferrer">11<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br><br> <strong>示例：</strong></li></ul> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 
    __slots__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">)</span>

s <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token punctuation">)</span> 
s<span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token number">100</span> <span class="token comment">#error</span>
</code></pre></div><h3 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h3> <blockquote><ul><li><a href="https://stackoverflow.com/questions/1436703/what-is-the-difference-between-str-and-repr" target="_blank" rel="noopener noreferrer">1.https://stackoverflow.com/questions/1436703/what-is-the-difference-between-str-and-repr<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://zhuanlan.zhihu.com/p/37643853" target="_blank" rel="noopener noreferrer">2.https://zhuanlan.zhihu.com/p/37643853<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.python.org/3/reference/datamodel.html" target="_blank" rel="noopener noreferrer">3.https://docs.python.org/3/reference/datamodel.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.cnblogs.com/traditional/p/11731676.html" target="_blank" rel="noopener noreferrer">4.https://www.cnblogs.com/traditional/p/11731676.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.python.org/zh-cn/3/howto/descriptor.html#closing-thoughts" target="_blank" rel="noopener noreferrer">5.https://docs.python.org/zh-cn/3/howto/descriptor.html#closing-thoughts<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://stackoverflow.com/questions/3798835/" target="_blank" rel="noopener noreferrer">6.https://stackoverflow.com/questions/3798835/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://stackoverflow.com/questions/1500718/how-to-override-the-copy-deepcopy-operations-for-a-python-object" target="_blank" rel="noopener noreferrer">7.https://stackoverflow.com/questions/1500718/how-to-override-the-copy-deepcopy-operations-for-a-python-object<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://python3-cookbook.readthedocs.io/zh_CN/latest/c05/p21_serializing_python_objects.html" target="_blank" rel="noopener noreferrer">8.https://python3-cookbook.readthedocs.io/zh_CN/latest/c05/p21_serializing_python_objects.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://rszalski.github.io/magicmethods/#sequence" target="_blank" rel="noopener noreferrer">9.https://rszalski.github.io/magicmethods/#sequence<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://docs.python.org/3/reference/datamodel.html" target="_blank" rel="noopener noreferrer">10.https://docs.python.org/3/reference/datamodel.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></blockquote> <div class="adswrapper"><!----> <div style="display:none;"></div> <ins data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-8685746128991385" data-ad-slot="2974191661" data-ad-test="" data-ad-region="" class="adsbygoogle" style="display:block;"></ins> <!----> <div style="display:none;"> (adsbygoogle = window.adsbygoogle || []).push({}); </div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/langs/python/color-print.html">
        Python彩色输出
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4fb1e7ac.js" defer></script><script src="/assets/js/2.441eb26f.js" defer></script><script src="/assets/js/1.1a1c696e.js" defer></script><script src="/assets/js/157.04fb08da.js" defer></script>
  </body>
</html>
